{"ast":null,"code":"import _regeneratorRuntime from\"D:/react-myprojects/hrms-airtable-july2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/react-myprojects/hrms-airtable-july2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from\"axios\";import{selector,useRecoilValue,useSetRecoilState}from\"recoil\";import{empidState,allowsPeriodState,allowsDataDetlsState}from\"./atomdata\";import{departments_url}from\"../../utils/constants\";import{dailyallowances_url,dailyallowsdetls_url}from\"../../utils/constants\";export var fetchDepartmentsSelector=selector({key:\"departmentsSelector\",get:function(){var _get2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref){var _get,res,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_get=_ref.get;_context.prev=1;_context.next=4;return fetch(departments_url);case 4:res=_context.sent;_context.next=7;return res.json();case 7:data=_context.sent;return _context.abrupt(\"return\",data);case 11:_context.prev=11;_context.t0=_context[\"catch\"](1);throw _context.t0;case 14:case\"end\":return _context.stop();}}},_callee,null,[[1,11]]);}));function get(_x){return _get2.apply(this,arguments);}return get;}()});export var fetchDailyAllowancesSelector=selector({key:\"dailyallowancesSelector\",get:function(){var _get4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(_ref2){var _get3,period,_yield$axios$get,data,res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_get3=_ref2.get;_context2.prev=1;period=_get3(allowsPeriodState);_context2.next=5;return axios.get(\"\".concat(dailyallowances_url,\"?fv=\").concat(period));case 5:_yield$axios$get=_context2.sent;data=_yield$axios$get.data;_context2.next=9;return data;case 9:res=_context2.sent;return _context2.abrupt(\"return\",res);case 13:_context2.prev=13;_context2.t0=_context2[\"catch\"](1);throw _context2.t0;case 16:case\"end\":return _context2.stop();}}},_callee2,null,[[1,13]]);}));function get(_x2){return _get4.apply(this,arguments);}return get;}()});export var fetchDailyAllowsDetlsSelector=selector({key:\"dailyallowsDetlsSelector\",get:function(){var _get6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(_ref3){var _get5,period,empid,_yield$axios$get2,data,res;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_get5=_ref3.get;_context3.prev=1;period=_get5(allowsPeriodState);empid=_get5(empidState);_context3.next=6;return axios.get(\"\".concat(dailyallowsdetls_url,\"?fv=\").concat(empid,\"&period=\").concat(period));case 6:_yield$axios$get2=_context3.sent;data=_yield$axios$get2.data;_context3.next=10;return data;case 10:res=_context3.sent;return _context3.abrupt(\"return\",res);case 14:_context3.prev=14;_context3.t0=_context3[\"catch\"](1);throw _context3.t0;case 17:case\"end\":return _context3.stop();}}},_callee3,null,[[1,14]]);}));function get(_x3){return _get6.apply(this,arguments);}return get;}()});","map":{"version":3,"sources":["D:/react-myprojects/hrms-airtable-july2/src/components/data/selectordata.js"],"names":["axios","selector","useRecoilValue","useSetRecoilState","empidState","allowsPeriodState","allowsDataDetlsState","departments_url","dailyallowances_url","dailyallowsdetls_url","fetchDepartmentsSelector","key","get","fetch","res","json","data","fetchDailyAllowancesSelector","period","fetchDailyAllowsDetlsSelector","empid"],"mappings":"yTAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,CAAmBC,cAAnB,CAAmCC,iBAAnC,KAA4D,QAA5D,CACA,OACEC,UADF,CAEEC,iBAFF,CAGEC,oBAHF,KAIO,YAJP,CAKA,OAASC,eAAT,KAAgC,uBAAhC,CACA,OACEC,mBADF,CAEEC,oBAFF,KAGO,uBAHP,CAKA,MAAO,IAAMC,CAAAA,wBAAwB,CAAGT,QAAQ,CAAC,CAC/CU,GAAG,CAAE,qBAD0C,CAE/CC,GAAG,8EAAE,yJAASA,IAAT,MAASA,GAAT,uCAEiBC,CAAAA,KAAK,CAACN,eAAD,CAFtB,QAEKO,GAFL,qCAGkBA,CAAAA,GAAG,CAACC,IAAJ,EAHlB,QAGKC,IAHL,+CAKMA,IALN,mJAAF,sEAF4C,CAAD,CAAzC,CAcP,MAAO,IAAMC,CAAAA,4BAA4B,CAAGhB,QAAQ,CAAC,CACnDU,GAAG,CAAE,yBAD8C,CAEnDC,GAAG,8EAAE,wLAASA,KAAT,OAASA,GAAT,kBAEKM,MAFL,CAEcN,KAAG,CAACP,iBAAD,CAFjB,wBAGsBL,CAAAA,KAAK,CAACY,GAAN,WAAaJ,mBAAb,gBAAuCU,MAAvC,EAHtB,wCAGOF,IAHP,kBAGOA,IAHP,wBAIiBA,CAAAA,IAJjB,QAIKF,GAJL,iDAMMA,GANN,yJAAF,uEAFgD,CAAD,CAA7C,CAeP,MAAO,IAAMK,CAAAA,6BAA6B,CAAGlB,QAAQ,CAAC,CACpDU,GAAG,CAAE,0BAD+C,CAEpDC,GAAG,8EAAE,+LAASA,KAAT,OAASA,GAAT,kBAEKM,MAFL,CAEcN,KAAG,CAACP,iBAAD,CAFjB,CAGKe,KAHL,CAGaR,KAAG,CAACR,UAAD,CAHhB,wBAIsBJ,CAAAA,KAAK,CAACY,GAAN,WAClBH,oBADkB,gBACSW,KADT,oBACyBF,MADzB,EAJtB,yCAIOF,IAJP,mBAIOA,IAJP,yBAOiBA,CAAAA,IAPjB,SAOKF,GAPL,iDASMA,GATN,yJAAF,uEAFiD,CAAD,CAA9C","sourcesContent":["import axios from \"axios\";\r\nimport { selector, useRecoilValue, useSetRecoilState } from \"recoil\";\r\nimport {\r\n  empidState,\r\n  allowsPeriodState,\r\n  allowsDataDetlsState,\r\n} from \"./atomdata\";\r\nimport { departments_url } from \"../../utils/constants\";\r\nimport {\r\n  dailyallowances_url,\r\n  dailyallowsdetls_url,\r\n} from \"../../utils/constants\";\r\n\r\nexport const fetchDepartmentsSelector = selector({\r\n  key: \"departmentsSelector\",\r\n  get: async ({ get }) => {\r\n    try {\r\n      const res = await fetch(departments_url);\r\n      const data = await res.json();\r\n\r\n      return data;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  },\r\n});\r\n\r\nexport const fetchDailyAllowancesSelector = selector({\r\n  key: \"dailyallowancesSelector\",\r\n  get: async ({ get }) => {\r\n    try {\r\n      const period = get(allowsPeriodState);\r\n      const { data } = await axios.get(`${dailyallowances_url}?fv=${period}`);\r\n      const res = await data;\r\n\r\n      return res;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  },\r\n});\r\n\r\nexport const fetchDailyAllowsDetlsSelector = selector({\r\n  key: \"dailyallowsDetlsSelector\",\r\n  get: async ({ get }) => {\r\n    try {\r\n      const period = get(allowsPeriodState);\r\n      const empid = get(empidState);\r\n      const { data } = await axios.get(\r\n        `${dailyallowsdetls_url}?fv=${empid}&period=${period}`\r\n      );\r\n      const res = await data;\r\n      \r\n      return res;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  },\r\n \r\n});\r\n"]},"metadata":{},"sourceType":"module"}