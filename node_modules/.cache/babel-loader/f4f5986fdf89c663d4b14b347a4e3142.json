{"ast":null,"code":"import pdfMake from \"pdfmake/build/pdfmake\";\nimport vfsFonts from \"pdfmake/build/vfs_fonts\";\nimport { formatPrice } from \"../helpers/Utils\";\nimport { useRecoilState, useRecoilValue } from \"recoil\";\nimport { payrunState } from \"./data/atomdata\";\nimport { usePayslipsContext } from \"../context/payslips_context\";\nimport { useEmployees } from \"./employees/useEmployees\";\n\nconst PrintPayslip = ({\n  data,\n  emp\n}) => {\n  console.log(\"payslip\", data);\n  console.log(\"payslip emp\", emp);\n  const {\n    empno,\n    address,\n    phone\n  } = emp[0];\n  const {\n    name\n  } = data.rowData;\n  const earningsdesp = [\"Wages\", data.rowData.allows_type1, data.rowData.allows_type2, data.rowData.allows_type3, data.rowData.allows_type4, data.rowData.allows_type5, data.rowData.allows_type6, data.rowData.allows_type7, data.rowData.allows_type8];\n  const earningsamt = [formatPrice(data.rowData.wages), formatPrice(data.rowData.allows_amt1), formatPrice(data.rowData.allows_amt2), formatPrice(data.rowData.allows_amt3), formatPrice(data.rowData.allows_amt4), formatPrice(data.rowData.allows_amt5), formatPrice(data.rowData.allows_amt6), formatPrice(data.rowData.allows_amt7), formatPrice(data.rowData.allows_amt8)];\n  const deductionsdesp = [\"TAP Amount\", \"SCP Amount\", data.rowData.deducts_type1, data.rowData.deducts_type2, data.rowData.deducts_type3, data.rowData.deducts_type4, data.rowData.deducts_type5, data.rowData.deducts_type6, data.rowData.deducts_type7, data.rowData.deducts_type8];\n  const deductionsamt = [data.rowData.tap_amount, formatPrice(data.rowData.scp_amount), formatPrice(data.rowData.deducts_amt1), formatPrice(data.rowData.deducts_amt2), formatPrice(data.rowData.deducts_amt3), formatPrice(data.rowData.deducts_amt4), formatPrice(data.rowData.deducts_amt5), formatPrice(data.rowData.deducts_amt6), formatPrice(data.rowData.deducts_amt7), formatPrice(data.rowData.deducts_amt8)];\n  const subtitle = \"Payslips for the period \" + data.rowData.period;\n  const {\n    vfs\n  } = vfsFonts.pdfMake;\n  pdfMake.vfs = vfs;\n  const documentDefinition = {\n    pageSize: \"A4\",\n    pageOrientation: \"landscape\",\n    content: [{\n      text: \"AppSmith Sutera Sdn Bhd\",\n      style: \"header\"\n    }, {\n      text: subtitle,\n      style: \"subheader\"\n    }, {\n      text: [{\n        text: \"Emp No: \" + empno + \"\\n\",\n        style: \"text\"\n      }, {\n        text: \"Name: \" + name + \"\\n\",\n        style: \"text\"\n      }, {\n        text: \"Addess: \" + address + \"\\n\",\n        style: \"text\"\n      }, {\n        text: \"Phone: \" + phone + \"\\n\",\n        style: \"text\"\n      }]\n    }, {\n      style: \"tableExample\",\n      table: {\n        widths: [200, 80, 200, 80],\n        body: [[{\n          alignment: \"left\",\n          text: \"Earnings\"\n        }, {\n          alignment: \"right\",\n          text: \"Amount\"\n        }, {\n          alignment: \"left\",\n          text: \"Deductions\"\n        }, {\n          alignment: \"right\",\n          text: \"Amount\"\n        }], [{\n          stack: [{\n            type: \"none\",\n            fontSize: 12,\n            ul: earningsdesp\n          }]\n        }, {\n          stack: [{\n            type: \"none\",\n            fontSize: 12,\n            alignment: \"right\",\n            ul: earningsamt\n          }]\n        }, {\n          stack: [{\n            type: \"none\",\n            fontSize: 12,\n            ul: deductionsdesp\n          }]\n        }, {\n          stack: [{\n            type: \"none\",\n            fontSize: 12,\n            alignment: \"right\",\n            ul: deductionsamt\n          }]\n        }]]\n      }\n    }],\n    styles: {\n      header: {\n        fontSize: 18,\n        bold: true,\n        margin: [0, 0, 0, 10]\n      },\n      subheader: {\n        fontSize: 16,\n        bold: true,\n        margin: [0, 10, 0, 5]\n      },\n      text: {\n        fontSize: 12,\n        bold: false,\n        margin: [0, 10, 0, 5]\n      },\n      tableExample: {\n        margin: [0, 5, 0, 15]\n      },\n      tableOpacityExample: {\n        margin: [0, 5, 0, 15],\n        fillColor: \"blue\",\n        fillOpacity: 0.3\n      },\n      tableHeader: {\n        bold: true,\n        fontSize: 13,\n        color: \"black\"\n      }\n    },\n    defaultStyle: {// alignment: 'justify'\n    }\n  };\n  pdfMake.createPdf(documentDefinition).open();\n};\n\n_c = PrintPayslip;\nexport default PrintPayslip;\n\nvar _c;\n\n$RefreshReg$(_c, \"PrintPayslip\");","map":{"version":3,"sources":["D:/react-myprojects/hrms-airtable-july2/src/components/PrintPayslip.js"],"names":["pdfMake","vfsFonts","formatPrice","useRecoilState","useRecoilValue","payrunState","usePayslipsContext","useEmployees","PrintPayslip","data","emp","console","log","empno","address","phone","name","rowData","earningsdesp","allows_type1","allows_type2","allows_type3","allows_type4","allows_type5","allows_type6","allows_type7","allows_type8","earningsamt","wages","allows_amt1","allows_amt2","allows_amt3","allows_amt4","allows_amt5","allows_amt6","allows_amt7","allows_amt8","deductionsdesp","deducts_type1","deducts_type2","deducts_type3","deducts_type4","deducts_type5","deducts_type6","deducts_type7","deducts_type8","deductionsamt","tap_amount","scp_amount","deducts_amt1","deducts_amt2","deducts_amt3","deducts_amt4","deducts_amt5","deducts_amt6","deducts_amt7","deducts_amt8","subtitle","period","vfs","documentDefinition","pageSize","pageOrientation","content","text","style","table","widths","body","alignment","stack","type","fontSize","ul","styles","header","bold","margin","subheader","tableExample","tableOpacityExample","fillColor","fillOpacity","tableHeader","color","defaultStyle","createPdf","open"],"mappings":"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","sourcesContent":["import pdfMake from \"pdfmake/build/pdfmake\";\r\nimport vfsFonts from \"pdfmake/build/vfs_fonts\";\r\nimport { formatPrice } from \"../helpers/Utils\";\r\nimport { useRecoilState, useRecoilValue } from \"recoil\";\r\nimport { payrunState } from \"./data/atomdata\";\r\nimport { usePayslipsContext } from \"../context/payslips_context\";\r\nimport { useEmployees } from \"./employees/useEmployees\";\r\n\r\nconst PrintPayslip = ({ data, emp }) => {\r\n  console.log(\"payslip\", data);\r\n  console.log(\"payslip emp\", emp);\r\n\r\n  const { empno, address, phone } = emp[0];\r\n  const { name } = data.rowData;\r\n  const earningsdesp = [\r\n    \"Wages\",\r\n    data.rowData.allows_type1,\r\n    data.rowData.allows_type2,\r\n    data.rowData.allows_type3,\r\n    data.rowData.allows_type4,\r\n    data.rowData.allows_type5,\r\n    data.rowData.allows_type6,\r\n    data.rowData.allows_type7,\r\n    data.rowData.allows_type8,\r\n  ];\r\n  const earningsamt = [\r\n    formatPrice(data.rowData.wages),\r\n    formatPrice(data.rowData.allows_amt1),\r\n    formatPrice(data.rowData.allows_amt2),\r\n    formatPrice(data.rowData.allows_amt3),\r\n    formatPrice(data.rowData.allows_amt4),\r\n    formatPrice(data.rowData.allows_amt5),\r\n    formatPrice(data.rowData.allows_amt6),\r\n    formatPrice(data.rowData.allows_amt7),\r\n    formatPrice(data.rowData.allows_amt8),\r\n  ];\r\n  const deductionsdesp = [\r\n    \"TAP Amount\",\r\n    \"SCP Amount\",\r\n    data.rowData.deducts_type1,\r\n    data.rowData.deducts_type2,\r\n    data.rowData.deducts_type3,\r\n    data.rowData.deducts_type4,\r\n    data.rowData.deducts_type5,\r\n    data.rowData.deducts_type6,\r\n    data.rowData.deducts_type7,\r\n    data.rowData.deducts_type8,\r\n  ];\r\n  const deductionsamt = [\r\n    (data.rowData.tap_amount),\r\n    formatPrice(data.rowData.scp_amount),\r\n    formatPrice(data.rowData.deducts_amt1),\r\n    formatPrice(data.rowData.deducts_amt2),\r\n    formatPrice(data.rowData.deducts_amt3),\r\n    formatPrice(data.rowData.deducts_amt4),\r\n    formatPrice(data.rowData.deducts_amt5),\r\n    formatPrice(data.rowData.deducts_amt6),\r\n    formatPrice(data.rowData.deducts_amt7),\r\n    formatPrice(data.rowData.deducts_amt8),\r\n  ];\r\n  const subtitle = \"Payslips for the period \" + data.rowData.period;\r\n  const { vfs } = vfsFonts.pdfMake;\r\n  pdfMake.vfs = vfs;\r\n\r\n  const documentDefinition = {\r\n    pageSize: \"A4\",\r\n    pageOrientation: \"landscape\",\r\n    content: [\r\n      { text: \"AppSmith Sutera Sdn Bhd\", style: \"header\" },\r\n      { text: subtitle, style: \"subheader\" },\r\n      {\r\n        text: [\r\n          { text: \"Emp No: \" + empno + \"\\n\", style: \"text\" },\r\n          { text: \"Name: \" + name + \"\\n\", style: \"text\" },\r\n          { text: \"Addess: \" + address + \"\\n\", style: \"text\" },\r\n          { text: \"Phone: \" + phone + \"\\n\", style: \"text\" },\r\n        ],\r\n      },\r\n\r\n      {\r\n        style: \"tableExample\",\r\n        table: {\r\n          widths: [200, 80, 200, 80],\r\n          body: [\r\n            [\r\n              { alignment: \"left\", text: \"Earnings\" },\r\n              { alignment: \"right\", text: \"Amount\" },\r\n              { alignment: \"left\", text: \"Deductions\" },\r\n              { alignment: \"right\", text: \"Amount\" },\r\n            ],\r\n            [\r\n              {\r\n                stack: [\r\n                  {\r\n                    type: \"none\",\r\n                    fontSize: 12,\r\n                    ul: earningsdesp,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                stack: [\r\n                  {\r\n                    type: \"none\",\r\n                    fontSize: 12,\r\n                    alignment: \"right\",\r\n                    ul: earningsamt,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                stack: [\r\n                  {\r\n                    type: \"none\",\r\n                    fontSize: 12,\r\n                    ul: deductionsdesp,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                stack: [\r\n                  {\r\n                    type: \"none\",\r\n                    fontSize: 12,\r\n                    alignment: \"right\",\r\n                    ul: deductionsamt,\r\n                  },\r\n                ],\r\n              },\r\n            ],\r\n          ],\r\n        },\r\n      },\r\n    ],\r\n    styles: {\r\n      header: {\r\n        fontSize: 18,\r\n        bold: true,\r\n        margin: [0, 0, 0, 10],\r\n      },\r\n      subheader: {\r\n        fontSize: 16,\r\n        bold: true,\r\n        margin: [0, 10, 0, 5],\r\n      },\r\n      text: {\r\n        fontSize: 12,\r\n        bold: false,\r\n        margin: [0, 10, 0, 5],\r\n      },\r\n      tableExample: {\r\n        margin: [0, 5, 0, 15],\r\n      },\r\n      tableOpacityExample: {\r\n        margin: [0, 5, 0, 15],\r\n        fillColor: \"blue\",\r\n        fillOpacity: 0.3,\r\n      },\r\n      tableHeader: {\r\n        bold: true,\r\n        fontSize: 13,\r\n        color: \"black\",\r\n      },\r\n    },\r\n    defaultStyle: {\r\n      // alignment: 'justify'\r\n    },\r\n  };\r\n\r\n  pdfMake.createPdf(documentDefinition).open();\r\n};\r\n\r\nexport default PrintPayslip;\r\n"]},"metadata":{},"sourceType":"module"}