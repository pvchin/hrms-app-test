{"ast":null,"code":"import _slicedToArray from\"D:/react-myprojects/hrms-airtable-july2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect}from\"react\";import{makeStyles}from\"@material-ui/core/styles\";import{useHistory,Link}from\"react-router-dom\";import{Grid,ListItem,ListItemText}from\"@material-ui/core\";import{useSetRecoilState,useRecoilState}from\"recoil\";import{payPeriodEmpIdState,loginLevelState}from\"./data/atomdata\";import{usePayslipsContext}from\"../context/payslips_context\";import{useEmployeesContext}from\"../context/employees_context\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var FILTERSTRING=\"Pending\";var columns=[{title:\"Name\",field:\"name\",editable:\"never\"},{title:\"Period\",field:\"period\",editable:\"never\"},{title:\"Date\",field:\"date\",type:\"date\",dateSetting:{locale:\"en-GB\"},editable:\"never\"},{title:\"Nett Pay\",field:\"nett_pay\",type:\"currency\",editable:\"never\"},// { title: \"Bank Name\", field: \"bank_name\" },\n// { title: \"Bank AC No\", field: \"bank_accno\" },\n{title:\"Status\",field:\"status\",editable:\"never\"}];export default function PayslipTableVIewStaff(){var history=useHistory();var classes=useStyles();var setPayPeriodEmpId=useSetRecoilState(payPeriodEmpIdState);var _useRecoilState=useRecoilState(loginLevelState),_useRecoilState2=_slicedToArray(_useRecoilState,2),loginLevel=_useRecoilState2[0],setLoginLevel=_useRecoilState2[1];var _usePayslipsContext=usePayslipsContext(),payslips=_usePayslipsContext.payslips,payslips_loading=_usePayslipsContext.payslips_loading,payslips_error=_usePayslipsContext.payslips_error,loadEmpPayslips=_usePayslipsContext.loadEmpPayslips;useEffect(function(){loadEmpPayslips(loginLevel.loginUserId);},[]);if(payslips_loading){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h2\",{children:\"Loading.....Payslips\"})});}if(payslips_loading){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h2\",{children:\"Internet connections problem!\"})});}return/*#__PURE__*/_jsx(\"div\",{className:classes.root,children:/*#__PURE__*/_jsx(Grid,{container:true,direction:\"row\",children:payslips// .filter((i) => i.empid === loginLevel.loginUserId && i.status === \"Approve\")\n.map(function(row){return/*#__PURE__*/_jsxs(ListItem,{children:[/*#__PURE__*/_jsx(Grid,{item:true,sm:2,align:\"center\",children:/*#__PURE__*/_jsx(ListItemText,{children:row.payrun})}),/*#__PURE__*/_jsx(Grid,{item:true,sm:2,align:\"center\",children:/*#__PURE__*/_jsx(ListItemText,{children:row.pay_date})}),/*#__PURE__*/_jsx(Grid,{item:true,sm:5,align:\"center\",children:/*#__PURE__*/_jsx(ListItemText,{children:row.period})}),/*#__PURE__*/_jsx(Grid,{item:true,sm:2,align:\"center\",children:/*#__PURE__*/_jsx(ListItemText,{children:row.nett_pay})})]},row.id);})})});}var useStyles=makeStyles(function(theme){return{root:{padding:0}};});","map":{"version":3,"sources":["D:/react-myprojects/hrms-airtable-july2/src/components/PayslipTableViewStaff.js"],"names":["React","useEffect","makeStyles","useHistory","Link","Grid","ListItem","ListItemText","useSetRecoilState","useRecoilState","payPeriodEmpIdState","loginLevelState","usePayslipsContext","useEmployeesContext","FILTERSTRING","columns","title","field","editable","type","dateSetting","locale","PayslipTableVIewStaff","history","classes","useStyles","setPayPeriodEmpId","loginLevel","setLoginLevel","payslips","payslips_loading","payslips_error","loadEmpPayslips","loginUserId","root","map","row","payrun","pay_date","period","nett_pay","id","theme","padding"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { useHistory, Link } from \"react-router-dom\";\r\nimport { Grid, ListItem, ListItemText } from \"@material-ui/core\";\r\nimport { useSetRecoilState, useRecoilState } from \"recoil\";\r\nimport { payPeriodEmpIdState, loginLevelState } from \"./data/atomdata\";\r\nimport { usePayslipsContext } from \"../context/payslips_context\";\r\nimport { useEmployeesContext } from \"../context/employees_context\";\r\n\r\nconst FILTERSTRING = \"Pending\";\r\n\r\nconst columns = [\r\n  {\r\n    title: \"Name\",\r\n    field: \"name\",\r\n    editable: \"never\",\r\n  },\r\n  { title: \"Period\", field: \"period\", editable: \"never\" },\r\n  {\r\n    title: \"Date\",\r\n    field: \"date\",\r\n    type: \"date\",\r\n    dateSetting: { locale: \"en-GB\" },\r\n    editable: \"never\",\r\n  },\r\n\r\n  { title: \"Nett Pay\", field: \"nett_pay\", type: \"currency\", editable: \"never\" },\r\n  // { title: \"Bank Name\", field: \"bank_name\" },\r\n  // { title: \"Bank AC No\", field: \"bank_accno\" },\r\n  { title: \"Status\", field: \"status\", editable: \"never\" },\r\n];\r\n\r\nexport default function PayslipTableVIewStaff() {\r\n  let history = useHistory();\r\n  const classes = useStyles();\r\n  const setPayPeriodEmpId = useSetRecoilState(payPeriodEmpIdState);\r\n  const [loginLevel, setLoginLevel] = useRecoilState(loginLevelState);\r\n  const { payslips, payslips_loading, payslips_error, loadEmpPayslips } =\r\n    usePayslipsContext();\r\n\r\n  useEffect(() => {\r\n    loadEmpPayslips(loginLevel.loginUserId);\r\n  }, []);\r\n\r\n  if (payslips_loading) {\r\n    return (\r\n      <div>\r\n        <h2>Loading.....Payslips</h2>\r\n      </div>\r\n    );\r\n  }\r\n  if (payslips_loading) {\r\n    return (\r\n      <div>\r\n        <h2>Internet connections problem!</h2>\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <div className={classes.root}>\r\n      <Grid container direction=\"row\">\r\n        {payslips\r\n          // .filter((i) => i.empid === loginLevel.loginUserId && i.status === \"Approve\")\r\n          .map((row) => {\r\n            return (\r\n              <ListItem key={row.id}>\r\n                {/* <Grid item sm={2} align=\"center\">\r\n                  <ListItemText>{row.name}</ListItemText>\r\n                </Grid> */}\r\n                <Grid item sm={2} align=\"center\">\r\n                  <ListItemText>{row.payrun}</ListItemText>\r\n                </Grid>\r\n                <Grid item sm={2} align=\"center\">\r\n                  <ListItemText>{row.pay_date}</ListItemText>\r\n                </Grid>\r\n                <Grid item sm={5} align=\"center\">\r\n                  <ListItemText>{row.period}</ListItemText>\r\n                </Grid>\r\n                <Grid item sm={2} align=\"center\">\r\n                  <ListItemText>{row.nett_pay}</ListItemText>\r\n                </Grid>\r\n                {/* <Grid item sm={3} align=\"center\">\r\n                  <ListItemText>{row.status}</ListItemText>\r\n                </Grid> */}\r\n              </ListItem>\r\n            );\r\n          })}\r\n      </Grid>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    padding: 0,\r\n  },\r\n}));\r\n"]},"metadata":{},"sourceType":"module"}