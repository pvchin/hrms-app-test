{"ast":null,"code":"import axios from \"axios\";\nimport { selector, useRecoilValue, useSetRecoilState } from \"recoil\";\nimport { empidState, allowsPeriodState, allowsDataDetlsState } from \"./atomdata\";\nimport { departments_url } from \"../../utils/constants\";\nimport { dailyallowances_url, dailyallowsdetls_url, employees_url } from \"../../utils/constants\";\nexport const fetchDepartmentsSelector = selector({\n  key: \"departmentsSelector\",\n  get: async ({\n    get\n  }) => {\n    try {\n      const res = await fetch(departments_url);\n      const data = await res.json();\n      return data;\n    } catch (error) {\n      throw error;\n    }\n  }\n});\nexport const fetchEmployeesSelector = selector({\n  key: \"employeesSelector\",\n  get: async ({\n    get\n  }) => {\n    try {\n      const res = await fetch(employees_url);\n      const data = await res.json();\n      return data;\n    } catch (error) {\n      throw error;\n    }\n  }\n});\nexport const fetchDailyAllowancesSelector = selector({\n  key: \"dailyallowancesSelector\",\n  get: async ({\n    get\n  }) => {\n    try {\n      const period = get(allowsPeriodState);\n      const {\n        data\n      } = await axios.get(`${dailyallowances_url}?fv=${period}`);\n      const res = await data;\n      return res;\n    } catch (error) {\n      throw error;\n    }\n  }\n});\nexport const fetchDailyAllowsDetlsSelector = selector({\n  key: \"dailyallowsDetlsSelector\",\n  get: async ({\n    get\n  }) => {\n    try {\n      const period = get(allowsPeriodState);\n      const empid = get(empidState);\n      const {\n        data\n      } = await axios.get(`${dailyallowsdetls_url}?fv=${empid}&period=${period}`);\n      const res = await data;\n      return res;\n    } catch (error) {\n      throw error;\n    }\n  }\n});","map":{"version":3,"sources":["D:/react-myprojects/hrms-airtable-july2/src/components/data/selectordata.js"],"names":["axios","selector","useRecoilValue","useSetRecoilState","empidState","allowsPeriodState","allowsDataDetlsState","departments_url","dailyallowances_url","dailyallowsdetls_url","employees_url","fetchDepartmentsSelector","key","get","res","fetch","data","json","error","fetchEmployeesSelector","fetchDailyAllowancesSelector","period","fetchDailyAllowsDetlsSelector","empid"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,EAAmBC,cAAnB,EAAmCC,iBAAnC,QAA4D,QAA5D;AACA,SACEC,UADF,EAEEC,iBAFF,EAGEC,oBAHF,QAIO,YAJP;AAKA,SAASC,eAAT,QAAgC,uBAAhC;AACA,SACEC,mBADF,EAEEC,oBAFF,EAGEC,aAHF,QAIO,uBAJP;AAMA,OAAO,MAAMC,wBAAwB,GAAGV,QAAQ,CAAC;AAC/CW,EAAAA,GAAG,EAAE,qBAD0C;AAE/CC,EAAAA,GAAG,EAAE,OAAO;AAAEA,IAAAA;AAAF,GAAP,KAAmB;AACtB,QAAI;AACF,YAAMC,GAAG,GAAG,MAAMC,KAAK,CAACR,eAAD,CAAvB;AACA,YAAMS,IAAI,GAAG,MAAMF,GAAG,CAACG,IAAJ,EAAnB;AAEA,aAAOD,IAAP;AACD,KALD,CAKE,OAAOE,KAAP,EAAc;AACd,YAAMA,KAAN;AACD;AACF;AAX8C,CAAD,CAAzC;AAcP,OAAO,MAAMC,sBAAsB,GAAGlB,QAAQ,CAAC;AAC7CW,EAAAA,GAAG,EAAE,mBADwC;AAE7CC,EAAAA,GAAG,EAAE,OAAO;AAAEA,IAAAA;AAAF,GAAP,KAAmB;AACtB,QAAI;AACF,YAAMC,GAAG,GAAG,MAAMC,KAAK,CAACL,aAAD,CAAvB;AACA,YAAMM,IAAI,GAAG,MAAMF,GAAG,CAACG,IAAJ,EAAnB;AAEA,aAAOD,IAAP;AACD,KALD,CAKE,OAAOE,KAAP,EAAc;AACd,YAAMA,KAAN;AACD;AACF;AAX4C,CAAD,CAAvC;AAcP,OAAO,MAAME,4BAA4B,GAAGnB,QAAQ,CAAC;AACnDW,EAAAA,GAAG,EAAE,yBAD8C;AAEnDC,EAAAA,GAAG,EAAE,OAAO;AAAEA,IAAAA;AAAF,GAAP,KAAmB;AACtB,QAAI;AACF,YAAMQ,MAAM,GAAGR,GAAG,CAACR,iBAAD,CAAlB;AACA,YAAM;AAAEW,QAAAA;AAAF,UAAW,MAAMhB,KAAK,CAACa,GAAN,CAAW,GAAEL,mBAAoB,OAAMa,MAAO,EAA9C,CAAvB;AACA,YAAMP,GAAG,GAAG,MAAME,IAAlB;AAEA,aAAOF,GAAP;AACD,KAND,CAME,OAAOI,KAAP,EAAc;AACd,YAAMA,KAAN;AACD;AACF;AAZkD,CAAD,CAA7C;AAeP,OAAO,MAAMI,6BAA6B,GAAGrB,QAAQ,CAAC;AACpDW,EAAAA,GAAG,EAAE,0BAD+C;AAEpDC,EAAAA,GAAG,EAAE,OAAO;AAAEA,IAAAA;AAAF,GAAP,KAAmB;AACtB,QAAI;AACF,YAAMQ,MAAM,GAAGR,GAAG,CAACR,iBAAD,CAAlB;AACA,YAAMkB,KAAK,GAAGV,GAAG,CAACT,UAAD,CAAjB;AACA,YAAM;AAAEY,QAAAA;AAAF,UAAW,MAAMhB,KAAK,CAACa,GAAN,CACpB,GAAEJ,oBAAqB,OAAMc,KAAM,WAAUF,MAAO,EADhC,CAAvB;AAGA,YAAMP,GAAG,GAAG,MAAME,IAAlB;AAEA,aAAOF,GAAP;AACD,KATD,CASE,OAAOI,KAAP,EAAc;AACd,YAAMA,KAAN;AACD;AACF;AAfmD,CAAD,CAA9C","sourcesContent":["import axios from \"axios\";\r\nimport { selector, useRecoilValue, useSetRecoilState } from \"recoil\";\r\nimport {\r\n  empidState,\r\n  allowsPeriodState,\r\n  allowsDataDetlsState,\r\n} from \"./atomdata\";\r\nimport { departments_url } from \"../../utils/constants\";\r\nimport {\r\n  dailyallowances_url,\r\n  dailyallowsdetls_url,\r\n  employees_url,\r\n} from \"../../utils/constants\";\r\n\r\nexport const fetchDepartmentsSelector = selector({\r\n  key: \"departmentsSelector\",\r\n  get: async ({ get }) => {\r\n    try {\r\n      const res = await fetch(departments_url);\r\n      const data = await res.json();\r\n\r\n      return data;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  },\r\n});\r\n\r\nexport const fetchEmployeesSelector = selector({\r\n  key: \"employeesSelector\",\r\n  get: async ({ get }) => {\r\n    try {\r\n      const res = await fetch(employees_url);\r\n      const data = await res.json();\r\n\r\n      return data;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  },\r\n});\r\n\r\nexport const fetchDailyAllowancesSelector = selector({\r\n  key: \"dailyallowancesSelector\",\r\n  get: async ({ get }) => {\r\n    try {\r\n      const period = get(allowsPeriodState);\r\n      const { data } = await axios.get(`${dailyallowances_url}?fv=${period}`);\r\n      const res = await data;\r\n\r\n      return res;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  },\r\n});\r\n\r\nexport const fetchDailyAllowsDetlsSelector = selector({\r\n  key: \"dailyallowsDetlsSelector\",\r\n  get: async ({ get }) => {\r\n    try {\r\n      const period = get(allowsPeriodState);\r\n      const empid = get(empidState);\r\n      const { data } = await axios.get(\r\n        `${dailyallowsdetls_url}?fv=${empid}&period=${period}`\r\n      );\r\n      const res = await data;\r\n\r\n      return res;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  },\r\n});\r\n"]},"metadata":{},"sourceType":"module"}