{"ast":null,"code":"import _objectWithoutProperties from\"D:/react-myprojects/hrms-airtable-july2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import _objectSpread from\"D:/react-myprojects/hrms-airtable-july2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"D:/react-myprojects/hrms-airtable-july2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/react-myprojects/hrms-airtable-july2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/react-myprojects/hrms-airtable-july2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useEffect,useReducer}from\"react\";import axios from\"axios\";import reducer from\"../reducers/expenses_reducer\";import{expenses_url}from\"../utils/constants\";import{unpaidexpenses_url}from\"../utils/constants\";import{SET_EDITEXPENSEID,SET_ISEXPENSEEDITING_ON,SET_ISEXPENSEEDITING_OFF,SET_SINGLEEXPENSE,GET_EXPENSES_BEGIN,GET_EXPENSES_SUCCESS,GET_EXPENSES_ERROR,GET_UNPAIDEXPENSES_BEGIN,GET_UNPAIDEXPENSES_SUCCESS,GET_UNPAIDEXPENSES_ERROR,GET_PERIODEXPENSES_BEGIN,GET_PERIODEXPENSES_SUCCESS,GET_PERIODEXPENSES_ERROR,GET_SINGLE_EXPENSE_BEGIN,GET_SINGLE_EXPENSE_SUCCESS,GET_SINGLE_EXPENSE_ERROR,ADD_EXPENSE_BEGIN,ADD_EXPENSE_SUCCESS,ADD_EXPENSE_ERROR,DELETE_EXPENSE_BEGIN,DELETE_EXPENSE_SUCCESS,DELETE_EXPENSE_ERROR,UPDATE_EXPENSE_BEGIN,UPDATE_EXPENSE_SUCCESS,UPDATE_EXPENSE_ERROR,RESET_SINGLE_EXPENSE}from\"../actions\";import{jsx as _jsx}from\"react/jsx-runtime\";var initialState={isExpenseEditing:false,alertExpense:{show:false,msg:\"\",type:\"\"},editExpenseID:null,expenses_loading:false,expenses_error:false,expenses:[],single_expense_loading:false,single_expense_error:false,single_expense:{},delete_expense_loading:false,delete_expense_error:false,update_expense_loading:false,update_expense_error:false,add_expense_loading:false,add_expense_error:false,unpaid_expense_loading:false,unpaid_expense_error:false,unpaidexpenses:[],period_expense_loading:false,period_expense_error:false,periodexpenses:[]// filterValue: \"Female\",\n// filterfield: \"gender\",\n};var ExpensesContext=/*#__PURE__*/React.createContext();export var ExpensesProvider=function ExpensesProvider(_ref){var children=_ref.children;var _useReducer=useReducer(reducer,initialState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];var loadExpenses=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,expenses;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch({type:GET_EXPENSES_BEGIN});_context.prev=1;_context.next=4;return fetch(expenses_url);case 4:res=_context.sent;_context.next=7;return res.json();case 7:expenses=_context.sent;dispatch({type:GET_EXPENSES_SUCCESS,payload:expenses});_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](1);dispatch({type:GET_EXPENSES_ERROR});case 14:case\"end\":return _context.stop();}}},_callee,null,[[1,11]]);}));return function loadExpenses(){return _ref2.apply(this,arguments);};}();var loadPendingExpenses=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(fi){var _yield$axios$get,data,expenses;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:dispatch({type:GET_EXPENSES_BEGIN});_context2.prev=1;_context2.next=4;return axios.get(\"\".concat(expenses_url,\"?fi=\").concat(fi));case 4:_yield$axios$get=_context2.sent;data=_yield$axios$get.data;expenses=data;dispatch({type:GET_EXPENSES_SUCCESS,payload:expenses});_context2.next=13;break;case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](1);dispatch({type:GET_EXPENSES_ERROR});case 13:case\"end\":return _context2.stop();}}},_callee2,null,[[1,10]]);}));return function loadPendingExpenses(_x){return _ref3.apply(this,arguments);};}();var loadEmpExpenses=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(fv){var _yield$axios$get2,data,expenses;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:dispatch({type:GET_EXPENSES_BEGIN});_context3.prev=1;_context3.next=4;return axios.get(\"\".concat(expenses_url,\"?fv=\").concat(fv));case 4:_yield$axios$get2=_context3.sent;data=_yield$axios$get2.data;expenses=data;dispatch({type:GET_EXPENSES_SUCCESS,payload:expenses});_context3.next=13;break;case 10:_context3.prev=10;_context3.t0=_context3[\"catch\"](1);dispatch({type:GET_EXPENSES_ERROR});case 13:case\"end\":return _context3.stop();}}},_callee3,null,[[1,10]]);}));return function loadEmpExpenses(_x2){return _ref4.apply(this,arguments);};}();var loadUnpaidExpenses=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var res,unpaidexpenses;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:dispatch({type:GET_UNPAIDEXPENSES_BEGIN});_context4.prev=1;_context4.next=4;return fetch(unpaidexpenses_url);case 4:res=_context4.sent;_context4.next=7;return res.json();case 7:unpaidexpenses=_context4.sent;dispatch({type:GET_UNPAIDEXPENSES_SUCCESS,payload:unpaidexpenses});_context4.next=14;break;case 11:_context4.prev=11;_context4.t0=_context4[\"catch\"](1);dispatch({type:GET_UNPAIDEXPENSES_ERROR});case 14:case\"end\":return _context4.stop();}}},_callee4,null,[[1,11]]);}));return function loadUnpaidExpenses(){return _ref5.apply(this,arguments);};}();var loadPeriodExpenses=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){var _yield$axios$get3,data,periodexpenses;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:dispatch({type:GET_PERIODEXPENSES_BEGIN});_context5.prev=1;_context5.next=4;return axios.get(\"\".concat(unpaidexpenses_url));case 4:_yield$axios$get3=_context5.sent;data=_yield$axios$get3.data;periodexpenses=data;dispatch({type:GET_PERIODEXPENSES_SUCCESS,payload:periodexpenses});_context5.next=13;break;case 10:_context5.prev=10;_context5.t0=_context5[\"catch\"](1);dispatch({type:GET_PERIODEXPENSES_ERROR});case 13:case\"end\":return _context5.stop();}}},_callee5,null,[[1,10]]);}));return function loadPeriodExpenses(){return _ref6.apply(this,arguments);};}();var setIsExpenseEditingOn=function setIsExpenseEditingOn(){dispatch({type:SET_ISEXPENSEEDITING_ON});};var setIsExpenseEditingOff=function setIsExpenseEditingOff(){dispatch({type:SET_ISEXPENSEEDITING_OFF});};var resetSingleExpense=function resetSingleExpense(){dispatch({type:RESET_SINGLE_EXPENSE});};var setEditExpenseID=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(id){return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:try{dispatch({type:SET_EDITEXPENSEID,payload:id});}catch(error){dispatch(error);}case 1:case\"end\":return _context6.stop();}}},_callee6);}));return function setEditExpenseID(_x3){return _ref7.apply(this,arguments);};}();var getSingleExpense=/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(id){var _yield$axios$get4,data,singleexpense;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:dispatch({type:GET_SINGLE_EXPENSE_BEGIN});_context7.prev=1;_context7.next=4;return axios.get(\"\".concat(expenses_url,\"?id=\").concat(id));case 4:_yield$axios$get4=_context7.sent;data=_yield$axios$get4.data;singleexpense=data;dispatch({type:GET_SINGLE_EXPENSE_SUCCESS,payload:singleexpense});_context7.next=13;break;case 10:_context7.prev=10;_context7.t0=_context7[\"catch\"](1);dispatch({type:GET_SINGLE_EXPENSE_ERROR});case 13:case\"end\":return _context7.stop();}}},_callee7,null,[[1,10]]);}));return function getSingleExpense(_x4){return _ref8.apply(this,arguments);};}();var addExpense=/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(data){var id,name,date,purchased_date,remark,amount,status;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:id=data.id,name=data.name,date=data.date,purchased_date=data.purchased_date,remark=data.remark,amount=data.amount,status=data.status;//\ndispatch({type:ADD_EXPENSE_BEGIN});_context8.prev=2;_context8.next=5;return fetch(expenses_url,{method:\"POST\",body:JSON.stringify(_objectSpread({},data))});case 5:dispatch({type:ADD_EXPENSE_SUCCESS});_context8.next=11;break;case 8:_context8.prev=8;_context8.t0=_context8[\"catch\"](2);dispatch({type:ADD_EXPENSE_ERROR});case 11:case\"end\":return _context8.stop();}}},_callee8,null,[[2,8]]);}));return function addExpense(_x5){return _ref9.apply(this,arguments);};}();var updateExpense=/*#__PURE__*/function(){var _ref10=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(data){var id,fields;return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:id=data.id,fields=_objectWithoutProperties(data,[\"id\"]);dispatch({type:UPDATE_EXPENSE_BEGIN});_context9.prev=2;_context9.next=5;return fetch(expenses_url,{method:\"PUT\",body:JSON.stringify(_objectSpread({id:id},fields))});case 5:dispatch({type:UPDATE_EXPENSE_SUCCESS});_context9.next=11;break;case 8:_context9.prev=8;_context9.t0=_context9[\"catch\"](2);dispatch({type:UPDATE_EXPENSE_ERROR});case 11:case\"end\":return _context9.stop();}}},_callee9,null,[[2,8]]);}));return function updateExpense(_x6){return _ref10.apply(this,arguments);};}();var deleteExpense=/*#__PURE__*/function(){var _ref11=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee10(id){return _regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:dispatch({type:DELETE_EXPENSE_BEGIN});_context10.prev=1;_context10.next=4;return fetch(expenses_url,{method:\"DELETE\",body:JSON.stringify({id:id})});case 4:dispatch({type:DELETE_EXPENSE_SUCCESS});//loadEmployees();\n_context10.next=10;break;case 7:_context10.prev=7;_context10.t0=_context10[\"catch\"](1);dispatch({type:DELETE_EXPENSE_ERROR});case 10:case\"end\":return _context10.stop();}}},_callee10,null,[[1,7]]);}));return function deleteExpense(_x7){return _ref11.apply(this,arguments);};}();return/*#__PURE__*/_jsx(ExpensesContext.Provider,{value:_objectSpread(_objectSpread({},state),{},{loadExpenses:loadExpenses,loadPendingExpenses:loadPendingExpenses,loadEmpExpenses:loadEmpExpenses,loadUnpaidExpenses:loadUnpaidExpenses,loadPeriodExpenses:loadPeriodExpenses,addExpense:addExpense,updateExpense:updateExpense,deleteExpense:deleteExpense,getSingleExpense:getSingleExpense,setEditExpenseID:setEditExpenseID,setIsExpenseEditingOn:setIsExpenseEditingOn,setIsExpenseEditingOff:setIsExpenseEditingOff,resetSingleExpense:resetSingleExpense}),children:children});};export var useExpensesContext=function useExpensesContext(){return useContext(ExpensesContext);};","map":{"version":3,"sources":["D:/react-myprojects/hrms-airtable-july2/src/context/expenses_context.js"],"names":["React","useContext","useEffect","useReducer","axios","reducer","expenses_url","unpaidexpenses_url","SET_EDITEXPENSEID","SET_ISEXPENSEEDITING_ON","SET_ISEXPENSEEDITING_OFF","SET_SINGLEEXPENSE","GET_EXPENSES_BEGIN","GET_EXPENSES_SUCCESS","GET_EXPENSES_ERROR","GET_UNPAIDEXPENSES_BEGIN","GET_UNPAIDEXPENSES_SUCCESS","GET_UNPAIDEXPENSES_ERROR","GET_PERIODEXPENSES_BEGIN","GET_PERIODEXPENSES_SUCCESS","GET_PERIODEXPENSES_ERROR","GET_SINGLE_EXPENSE_BEGIN","GET_SINGLE_EXPENSE_SUCCESS","GET_SINGLE_EXPENSE_ERROR","ADD_EXPENSE_BEGIN","ADD_EXPENSE_SUCCESS","ADD_EXPENSE_ERROR","DELETE_EXPENSE_BEGIN","DELETE_EXPENSE_SUCCESS","DELETE_EXPENSE_ERROR","UPDATE_EXPENSE_BEGIN","UPDATE_EXPENSE_SUCCESS","UPDATE_EXPENSE_ERROR","RESET_SINGLE_EXPENSE","initialState","isExpenseEditing","alertExpense","show","msg","type","editExpenseID","expenses_loading","expenses_error","expenses","single_expense_loading","single_expense_error","single_expense","delete_expense_loading","delete_expense_error","update_expense_loading","update_expense_error","add_expense_loading","add_expense_error","unpaid_expense_loading","unpaid_expense_error","unpaidexpenses","period_expense_loading","period_expense_error","periodexpenses","ExpensesContext","createContext","ExpensesProvider","children","state","dispatch","loadExpenses","fetch","res","json","payload","loadPendingExpenses","fi","get","data","loadEmpExpenses","fv","loadUnpaidExpenses","loadPeriodExpenses","setIsExpenseEditingOn","setIsExpenseEditingOff","resetSingleExpense","setEditExpenseID","id","error","getSingleExpense","singleexpense","addExpense","name","date","purchased_date","remark","amount","status","method","body","JSON","stringify","updateExpense","fields","deleteExpense","useExpensesContext"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useReducer } from \"react\";\r\nimport axios from \"axios\";\r\nimport reducer from \"../reducers/expenses_reducer\";\r\nimport { expenses_url } from \"../utils/constants\";\r\nimport { unpaidexpenses_url } from \"../utils/constants\";\r\n\r\nimport {\r\n  SET_EDITEXPENSEID,\r\n  SET_ISEXPENSEEDITING_ON,\r\n  SET_ISEXPENSEEDITING_OFF,\r\n  SET_SINGLEEXPENSE,\r\n  GET_EXPENSES_BEGIN,\r\n  GET_EXPENSES_SUCCESS,\r\n  GET_EXPENSES_ERROR,\r\n  GET_UNPAIDEXPENSES_BEGIN,\r\n  GET_UNPAIDEXPENSES_SUCCESS,\r\n  GET_UNPAIDEXPENSES_ERROR,\r\n  GET_PERIODEXPENSES_BEGIN,\r\n  GET_PERIODEXPENSES_SUCCESS,\r\n  GET_PERIODEXPENSES_ERROR,\r\n  GET_SINGLE_EXPENSE_BEGIN,\r\n  GET_SINGLE_EXPENSE_SUCCESS,\r\n  GET_SINGLE_EXPENSE_ERROR,\r\n  ADD_EXPENSE_BEGIN,\r\n  ADD_EXPENSE_SUCCESS,\r\n  ADD_EXPENSE_ERROR,\r\n  DELETE_EXPENSE_BEGIN,\r\n  DELETE_EXPENSE_SUCCESS,\r\n  DELETE_EXPENSE_ERROR,\r\n  UPDATE_EXPENSE_BEGIN,\r\n  UPDATE_EXPENSE_SUCCESS,\r\n  UPDATE_EXPENSE_ERROR,\r\n  RESET_SINGLE_EXPENSE,\r\n} from \"../actions\";\r\n\r\nconst initialState = {\r\n  isExpenseEditing: false,\r\n  alertExpense: { show: false, msg: \"\", type: \"\" },\r\n  editExpenseID: null,\r\n  expenses_loading: false,\r\n  expenses_error: false,\r\n  expenses: [],\r\n  single_expense_loading: false,\r\n  single_expense_error: false,\r\n  single_expense: {},\r\n  delete_expense_loading: false,\r\n  delete_expense_error: false,\r\n  update_expense_loading: false,\r\n  update_expense_error: false,\r\n  add_expense_loading: false,\r\n  add_expense_error: false,\r\n  unpaid_expense_loading: false,\r\n  unpaid_expense_error: false,\r\n  unpaidexpenses: [],\r\n  period_expense_loading: false,\r\n  period_expense_error: false,\r\n  periodexpenses: [],\r\n  // filterValue: \"Female\",\r\n  // filterfield: \"gender\",\r\n};\r\n\r\nconst ExpensesContext = React.createContext();\r\n\r\nexport const ExpensesProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n\r\n  const loadExpenses = async () => {\r\n    dispatch({ type: GET_EXPENSES_BEGIN });\r\n    try {\r\n      // const res = await fetch(\r\n      //   `${employees_url}?filterValue=\"${state.filterValue}\"&filterField=\"${state.filterField}\"`\r\n      // );\r\n      const res = await fetch(expenses_url);\r\n      //const { data } = await axios.get(employees_url);\r\n      //const employees = data;\r\n      const expenses = await res.json();\r\n      dispatch({ type: GET_EXPENSES_SUCCESS, payload: expenses });\r\n    } catch (error) {\r\n      dispatch({ type: GET_EXPENSES_ERROR });\r\n    }\r\n  };\r\n\r\n  const loadPendingExpenses = async (fi) => {\r\n    dispatch({ type: GET_EXPENSES_BEGIN });\r\n    try {\r\n      //const res = await fetch(leaves_url);\r\n      //const { data } = await axios.get(employees_url);\r\n      //const employees = data;\r\n      const { data } = await axios.get(`${expenses_url}?fi=${fi}`);\r\n      const expenses = data;\r\n\r\n      dispatch({ type: GET_EXPENSES_SUCCESS, payload: expenses });\r\n    } catch (error) {\r\n      dispatch({ type: GET_EXPENSES_ERROR });\r\n    }\r\n  };\r\n\r\n  const loadEmpExpenses = async (fv) => {\r\n    dispatch({ type: GET_EXPENSES_BEGIN });\r\n    try {\r\n      const { data } = await axios.get(`${expenses_url}?fv=${fv}`);\r\n      const expenses = data;\r\n\r\n      dispatch({ type: GET_EXPENSES_SUCCESS, payload: expenses });\r\n    } catch (error) {\r\n      dispatch({ type: GET_EXPENSES_ERROR });\r\n    }\r\n  };\r\n\r\n  const loadUnpaidExpenses = async () => {\r\n    dispatch({ type: GET_UNPAIDEXPENSES_BEGIN });\r\n    try {\r\n      // const { data } = await axios.get(`${unpaidexpenses_url}`);\r\n      // const unpaidexpenses = data;\r\n      const res = await fetch(unpaidexpenses_url);\r\n      const unpaidexpenses = await res.json();\r\n      dispatch({ type: GET_UNPAIDEXPENSES_SUCCESS, payload: unpaidexpenses });\r\n    } catch (error) {\r\n      dispatch({ type: GET_UNPAIDEXPENSES_ERROR });\r\n    }\r\n  };\r\n\r\n  const loadPeriodExpenses = async () => {\r\n    dispatch({ type: GET_PERIODEXPENSES_BEGIN });\r\n    try {\r\n      const { data } = await axios.get(`${unpaidexpenses_url}`);\r\n      const periodexpenses = data;\r\n\r\n      dispatch({ type: GET_PERIODEXPENSES_SUCCESS, payload: periodexpenses });\r\n    } catch (error) {\r\n      dispatch({ type: GET_PERIODEXPENSES_ERROR });\r\n    }\r\n  };\r\n\r\n  const setIsExpenseEditingOn = () => {\r\n    dispatch({ type: SET_ISEXPENSEEDITING_ON });\r\n  };\r\n\r\n  const setIsExpenseEditingOff = () => {\r\n    dispatch({ type: SET_ISEXPENSEEDITING_OFF });\r\n  };\r\n\r\n  const resetSingleExpense = () => {\r\n    dispatch({ type: RESET_SINGLE_EXPENSE });\r\n  };\r\n\r\n  const setEditExpenseID = async (id) => {\r\n    try {\r\n      dispatch({ type: SET_EDITEXPENSEID, payload: id });\r\n    } catch (error) {\r\n      dispatch(error);\r\n    }\r\n  };\r\n\r\n  const getSingleExpense = async (id) => {\r\n    dispatch({ type: GET_SINGLE_EXPENSE_BEGIN });\r\n    try {\r\n      const { data } = await axios.get(`${expenses_url}?id=${id}`);\r\n      const singleexpense = data;\r\n      dispatch({ type: GET_SINGLE_EXPENSE_SUCCESS, payload: singleexpense });\r\n    } catch (error) {\r\n      dispatch({ type: GET_SINGLE_EXPENSE_ERROR });\r\n    }\r\n  };\r\n\r\n  const addExpense = async (data) => {\r\n    const { id, name, date, purchased_date, remark, amount, status } = data;\r\n    //\r\n    dispatch({ type: ADD_EXPENSE_BEGIN });\r\n    try {\r\n      await fetch(expenses_url, {\r\n        method: \"POST\",\r\n        body: JSON.stringify({ ...data }),\r\n      });\r\n      dispatch({ type: ADD_EXPENSE_SUCCESS });\r\n    } catch (err) {\r\n      dispatch({ type: ADD_EXPENSE_ERROR });\r\n    }\r\n  };\r\n\r\n  const updateExpense = async (data) => {\r\n    const { id, ...fields } = data;\r\n\r\n    dispatch({ type: UPDATE_EXPENSE_BEGIN });\r\n    try {\r\n      await fetch(expenses_url, {\r\n        method: \"PUT\",\r\n        body: JSON.stringify({ id, ...fields }),\r\n      });\r\n      dispatch({ type: UPDATE_EXPENSE_SUCCESS });\r\n    } catch (error) {\r\n      dispatch({ type: UPDATE_EXPENSE_ERROR });\r\n    }\r\n  };\r\n\r\n  const deleteExpense = async (id) => {\r\n    dispatch({ type: DELETE_EXPENSE_BEGIN });\r\n    try {\r\n      await fetch(expenses_url, {\r\n        method: \"DELETE\",\r\n        body: JSON.stringify({ id: id }),\r\n      });\r\n      dispatch({ type: DELETE_EXPENSE_SUCCESS });\r\n      //loadEmployees();\r\n    } catch (err) {\r\n      dispatch({ type: DELETE_EXPENSE_ERROR });\r\n    }\r\n  };\r\n  return (\r\n    <ExpensesContext.Provider\r\n      value={{\r\n        ...state,\r\n        loadExpenses,\r\n        loadPendingExpenses,\r\n        loadEmpExpenses,\r\n        loadUnpaidExpenses,\r\n        loadPeriodExpenses,\r\n        addExpense,\r\n        updateExpense,\r\n        deleteExpense,\r\n        getSingleExpense,\r\n        setEditExpenseID,\r\n        setIsExpenseEditingOn,\r\n        setIsExpenseEditingOff,\r\n        resetSingleExpense,\r\n      }}\r\n    >\r\n      {children}\r\n    </ExpensesContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useExpensesContext = () => {\r\n  return useContext(ExpensesContext);\r\n};\r\n"]},"metadata":{},"sourceType":"module"}