{"ast":null,"code":"import React from 'react';\nimport { globalScope, ActionTypes, reducer } from 'react-async';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nconst Root = props => React.createElement(\"div\", _extends({}, props, {\n  style: _objectSpread({\n    position: \"absolute\",\n    top: \"1em\",\n    right: \"1em\",\n    width: \"15em\",\n    boxSizing: \"border-box\",\n    border: \"1px solid #0366d6\",\n    borderRadius: \"1em\",\n    boxShadow: \"0 2px 1em #00000022\",\n    background: \"white\",\n    padding: \"1em\",\n    color: \"#000\",\n    fontSize: \"1rem\",\n    fontFamily: `-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif`\n  }, props.style)\n}));\n\nconst Range = props => React.createElement(\"input\", _extends({\n  type: \"range\",\n  role: \"slider\"\n}, props, {\n  style: {\n    fontSize: \"inherit\",\n    display: \"block\",\n    width: \"100%\",\n    margin: \"1em 0\"\n  }\n}));\n\nconst Checkbox = props => React.createElement(\"input\", _extends({\n  type: \"checkbox\"\n}, props, {\n  style: _objectSpread({\n    fontSize: \"inherit\",\n    marginRight: \"0.5em\",\n    verticalAlign: \"bottom\"\n  }, props.style)\n}));\n\nconst Label = props => React.createElement(\"label\", _extends({}, props, {\n  style: _objectSpread({\n    fontSize: \"inherit\",\n    display: \"block\",\n    marginBottom: \"1.5em\"\n  }, props.style)\n}));\n\nconst Small = props => React.createElement(\"small\", _extends({}, props, {\n  style: _objectSpread({\n    display: \"block\",\n    marginTop: \"0.5em\",\n    fontSize: \"0.75em\",\n    textTransform: \"uppercase\",\n    opacity: \"0.5\"\n  }, props.style)\n}));\n\nconst Ol = props => React.createElement(\"ol\", _extends({}, props, {\n  style: _objectSpread({\n    margin: \"0\",\n    padding: \"0\",\n    listStyle: \"none\",\n    lineHeight: \"2em\"\n  }, props.style)\n}));\n\nconst Li = props => React.createElement(\"li\", _extends({}, props, {\n  style: _objectSpread({\n    display: \"flex\",\n    justifyContent: \"space-between\"\n  }, props.style)\n}));\n\nconst Button = props => React.createElement(\"button\", _extends({}, props, {\n  style: _objectSpread({\n    height: \"1.6rem\",\n    padding: \"2px 6px\",\n    border: \"0\",\n    borderRadius: \"0.5em\",\n    background: \"#0366d6\",\n    fontSize: \"0.75em\",\n    color: \"#fff\"\n  }, props.style)\n}));\n\nfunction ownKeys$1(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread$1(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys$1(Object(source), true).forEach(function (key) {\n        _defineProperty$1(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys$1(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty$1(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nconst storage = globalScope.sessionStorage;\nconst state = {\n  intercept: storage && storage.getItem(\"intercept\") === \"true\" || false,\n  latency: storage && storage.getItem(\"latency\") || \"0\",\n  update: () => {}\n};\n\nglobalScope.__REACT_ASYNC__.devToolsDispatcher = (action, dispatch) => {\n  const run = () => {\n    dispatch(action);\n    state.update(action);\n  };\n\n  switch (action.type) {\n    case ActionTypes.start:\n      if (state.intercept) {\n        dispatch(_objectSpread$1({}, action, {\n          payload: undefined\n        }));\n        state.update(action, run);\n      } else run();\n\n      break;\n\n    case ActionTypes.fulfill:\n    case ActionTypes.reject:\n      setTimeout(run, state.latency * 1000);\n      break;\n\n    default:\n      run();\n  }\n};\n\nconst DevTools = () => {\n  const [instances, setInstances] = React.useState({});\n  const [interceptState, setIntercept] = React.useState(state.intercept);\n  const intercept = React.useRef(interceptState);\n  const [latencyState, setLatency] = React.useState(state.latency);\n  const delay = React.useRef(latencyState * 1000);\n\n  state.update = (action, run) => {\n    const label = action.meta.debugLabel;\n    setInstances(instances => _objectSpread$1({}, instances, {\n      [label]: {\n        label,\n        state: reducer(instances[label], action),\n        run\n      }\n    }));\n  };\n\n  const updateLatency = event => {\n    storage && storage.setItem(\"latency\", event.target.value);\n    delay.current = event.target.value * 1000;\n    state.latency = event.target.value;\n    setLatency(event.target.value);\n  };\n\n  const updateIntercept = event => {\n    storage && storage.setItem(\"intercept\", event.target.checked ? \"true\" : \"false\");\n    state.intercept = event.target.checked;\n    intercept.current = event.target.checked;\n    setIntercept(event.target.checked);\n  };\n\n  const states = Object.keys(instances).map(label => instances[label]);\n  const pending = states.filter(({\n    state\n  }) => state.status === \"pending\");\n  const fulfilled = states.filter(({\n    state\n  }) => state.status === \"fulfilled\");\n  const rejected = states.filter(({\n    state\n  }) => state.status === \"rejected\");\n  return React.createElement(Root, null, React.createElement(Label, null, \"Latency:\", \" \", React.createElement(\"b\", null, latencyState, \" \", latencyState === \"1\" ? \"second\" : \"seconds\"), React.createElement(Range, {\n    max: \"5\",\n    value: latencyState,\n    onChange: updateLatency\n  })), React.createElement(Label, null, React.createElement(Checkbox, {\n    checked: interceptState,\n    onChange: updateIntercept\n  }), \"Pause new requests\"), pending.length > 0 && React.createElement(\"section\", null, React.createElement(Small, null, \"Pending\"), React.createElement(Ol, null, pending.map(({\n    label,\n    run\n  }, index) => React.createElement(Li, {\n    key: index\n  }, label, \" \", run && React.createElement(Button, {\n    onClick: run\n  }, \"run\"))))), fulfilled.length > 0 && React.createElement(\"section\", null, React.createElement(Small, null, \"Fulfilled\"), React.createElement(Ol, null, fulfilled.map((promise, index) => React.createElement(Li, {\n    key: index\n  }, promise.label)))), rejected.length > 0 && React.createElement(\"section\", null, React.createElement(Small, null, \"Rejected\"), React.createElement(Ol, null, rejected.map((promise, index) => React.createElement(Li, {\n    key: index\n  }, promise.label)))));\n};\n\nexport default DevTools;","map":{"version":3,"sources":["../dist-src/components.js","../dist-src/index.js"],"names":["ownKeys","_objectSpread","_defineProperty"],"mappings":"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","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/* eslint-disable react/prop-types */\nimport React from \"react\";\nexport const Root = props => React.createElement(\"div\", _extends({}, props, {\n  style: _objectSpread({\n    position: \"absolute\",\n    top: \"1em\",\n    right: \"1em\",\n    width: \"15em\",\n    boxSizing: \"border-box\",\n    border: \"1px solid #0366d6\",\n    borderRadius: \"1em\",\n    boxShadow: \"0 2px 1em #00000022\",\n    background: \"white\",\n    padding: \"1em\",\n    color: \"#000\",\n    fontSize: \"1rem\",\n    fontFamily: `-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif`\n  }, props.style)\n}));\nexport const Range = props => React.createElement(\"input\", _extends({\n  type: \"range\",\n  role: \"slider\"\n}, props, {\n  style: {\n    fontSize: \"inherit\",\n    display: \"block\",\n    width: \"100%\",\n    margin: \"1em 0\"\n  }\n}));\nexport const Checkbox = props => React.createElement(\"input\", _extends({\n  type: \"checkbox\"\n}, props, {\n  style: _objectSpread({\n    fontSize: \"inherit\",\n    marginRight: \"0.5em\",\n    verticalAlign: \"bottom\"\n  }, props.style)\n}));\nexport const Label = props => React.createElement(\"label\", _extends({}, props, {\n  style: _objectSpread({\n    fontSize: \"inherit\",\n    display: \"block\",\n    marginBottom: \"1.5em\"\n  }, props.style)\n}));\nexport const Small = props => React.createElement(\"small\", _extends({}, props, {\n  style: _objectSpread({\n    display: \"block\",\n    marginTop: \"0.5em\",\n    fontSize: \"0.75em\",\n    textTransform: \"uppercase\",\n    opacity: \"0.5\"\n  }, props.style)\n}));\nexport const Ol = props => React.createElement(\"ol\", _extends({}, props, {\n  style: _objectSpread({\n    margin: \"0\",\n    padding: \"0\",\n    listStyle: \"none\",\n    lineHeight: \"2em\"\n  }, props.style)\n}));\nexport const Li = props => React.createElement(\"li\", _extends({}, props, {\n  style: _objectSpread({\n    display: \"flex\",\n    justifyContent: \"space-between\"\n  }, props.style)\n}));\nexport const Button = props => React.createElement(\"button\", _extends({}, props, {\n  style: _objectSpread({\n    height: \"1.6rem\",\n    padding: \"2px 6px\",\n    border: \"0\",\n    borderRadius: \"0.5em\",\n    background: \"#0366d6\",\n    fontSize: \"0.75em\",\n    color: \"#fff\"\n  }, props.style)\n}));","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from \"react\";\nimport { ActionTypes, reducer, globalScope } from \"react-async\";\nimport { Root, Range, Checkbox, Label, Small, Ol, Li, Button } from \"./components.js\";\nconst storage = globalScope.sessionStorage;\nconst state = {\n  intercept: storage && storage.getItem(\"intercept\") === \"true\" || false,\n  latency: storage && storage.getItem(\"latency\") || \"0\",\n  update: () => {}\n};\n\nglobalScope.__REACT_ASYNC__.devToolsDispatcher = (action, dispatch) => {\n  const run = () => {\n    dispatch(action);\n    state.update(action);\n  };\n\n  switch (action.type) {\n    case ActionTypes.start:\n      if (state.intercept) {\n        dispatch(_objectSpread({}, action, {\n          payload: undefined\n        }));\n        state.update(action, run);\n      } else run();\n\n      break;\n\n    case ActionTypes.fulfill:\n    case ActionTypes.reject:\n      setTimeout(run, state.latency * 1000);\n      break;\n\n    default:\n      run();\n  }\n};\n\nconst DevTools = () => {\n  const [instances, setInstances] = React.useState({});\n  const [interceptState, setIntercept] = React.useState(state.intercept);\n  const intercept = React.useRef(interceptState);\n  const [latencyState, setLatency] = React.useState(state.latency);\n  const delay = React.useRef(latencyState * 1000);\n\n  state.update = (action, run) => {\n    const label = action.meta.debugLabel;\n    setInstances(instances => _objectSpread({}, instances, {\n      [label]: {\n        label,\n        state: reducer(instances[label], action),\n        run\n      }\n    }));\n  };\n\n  const updateLatency = event => {\n    storage && storage.setItem(\"latency\", event.target.value);\n    delay.current = event.target.value * 1000;\n    state.latency = event.target.value;\n    setLatency(event.target.value);\n  };\n\n  const updateIntercept = event => {\n    storage && storage.setItem(\"intercept\", event.target.checked ? \"true\" : \"false\");\n    state.intercept = event.target.checked;\n    intercept.current = event.target.checked;\n    setIntercept(event.target.checked);\n  };\n\n  const states = Object.keys(instances).map(label => instances[label]);\n  const pending = states.filter(({\n    state\n  }) => state.status === \"pending\");\n  const fulfilled = states.filter(({\n    state\n  }) => state.status === \"fulfilled\");\n  const rejected = states.filter(({\n    state\n  }) => state.status === \"rejected\");\n  return React.createElement(Root, null, React.createElement(Label, null, \"Latency:\", \" \", React.createElement(\"b\", null, latencyState, \" \", latencyState === \"1\" ? \"second\" : \"seconds\"), React.createElement(Range, {\n    max: \"5\",\n    value: latencyState,\n    onChange: updateLatency\n  })), React.createElement(Label, null, React.createElement(Checkbox, {\n    checked: interceptState,\n    onChange: updateIntercept\n  }), \"Pause new requests\"), pending.length > 0 && React.createElement(\"section\", null, React.createElement(Small, null, \"Pending\"), React.createElement(Ol, null, pending.map(({\n    label,\n    run\n  }, index) => React.createElement(Li, {\n    key: index\n  }, label, \" \", run && React.createElement(Button, {\n    onClick: run\n  }, \"run\"))))), fulfilled.length > 0 && React.createElement(\"section\", null, React.createElement(Small, null, \"Fulfilled\"), React.createElement(Ol, null, fulfilled.map((promise, index) => React.createElement(Li, {\n    key: index\n  }, promise.label)))), rejected.length > 0 && React.createElement(\"section\", null, React.createElement(Small, null, \"Rejected\"), React.createElement(Ol, null, rejected.map((promise, index) => React.createElement(Li, {\n    key: index\n  }, promise.label)))));\n};\n\nexport default DevTools;"]},"metadata":{},"sourceType":"module"}