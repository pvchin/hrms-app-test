{"ast":null,"code":"import _defineProperty from\"D:/react-myprojects/hrms-airtable-july2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"D:/react-myprojects/hrms-airtable-july2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"D:/react-myprojects/hrms-airtable-july2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{makeStyles}from\"@material-ui/core/styles\";import{differenceInDays,addDays}from\"date-fns\";import{Heading}from\"@chakra-ui/react\";import{useCustomToast}from\"../helpers/useCustomToast\";import clsx from\"clsx\";import{Button,Paper,Grid,Icon,TextField}from\"@material-ui/core\";import{Alert}from\"@material-ui/lab\";import{useRecoilState}from\"recoil\";import{siteallowsState,loginLevelState}from\"./data/atomdata\";import{useDailyAllowancesContext}from\"../context/dailyallowances_context\";import{useDailyAllows}from\"./dailyallows/useDailyAllows\";import{useAddDailyAllows}from\"./dailyallows/useAddDailyAllows\";import{useDailyAllowsDetls}from\"./dailyallowsdetls/useDailyAllowsDetls\";import{useAddDailyAllowsDetls}from\"./dailyallowsdetls/useAddDailyAllowsDetls\";//const drawerWidth = 240;\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var selectYear=[{name:\"2021\"},{name:\"2022\"}];var selectMonth=[{name:\"January\"},{name:\"February\"},{name:\"March\"},{name:\"April\"},{name:\"May\"},{name:\"June\"}];var DailyAllowancesAddPeriod=function DailyAllowancesAddPeriod(_ref){var handleDialogClose=_ref.handleDialogClose;var date=new Date();var longMonth=date.toLocaleString(\"en-us\",{month:\"long\"});//console.log(\"date\", date, longMonth);\nvar classes=useStyles();var fixedHeightPaper=clsx(classes.paper,classes.fixedHeight);var toast=useCustomToast();var _useDailyAllows=useDailyAllows(),dailyallows=_useDailyAllows.dailyallows;var _useDailyAllowsDetls=useDailyAllowsDetls(),dailyallowsdetls=_useDailyAllowsDetls.dailyallowsdetls;var addDailyAllows=useAddDailyAllows();var addDailyAllowsDetls=useAddDailyAllowsDetls();var _useRecoilState=useRecoilState(siteallowsState),_useRecoilState2=_slicedToArray(_useRecoilState,2),input=_useRecoilState2[0],setInput=_useRecoilState2[1];var _useRecoilState3=useRecoilState(loginLevelState),_useRecoilState4=_slicedToArray(_useRecoilState3,2),loginLevel=_useRecoilState4[0],setLoginLevel=_useRecoilState4[1];var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),allowsPeriod=_useState2[0],setAllowsPeriod=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),alert=_useState4[0],setAlert=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];// const { dailyallowances, addDailyAllowance, addDailyAllowsDetl } =\n//   useDailyAllowancesContext();\n// function daysInMonth(month, year) {\n//   return new Date(year, month, 0).getDate();\n// }\nuseEffect(function(){setInput(_objectSpread(_objectSpread({},input),{},{empid:loginLevel.loginUserId,name:loginLevel.loginUser,jobbonus:loginLevel.siteallows_fee,perdiem:loginLevel.perdiem_fee,manager:loginLevel.reporting_to,clieng:\"\"}));},[]);var periodExists=function periodExists(data){return dailyallows.some(function(el){return el.period===data;});};var buildSiteAllows=function buildSiteAllows(){var period=input.fromdate.substring(0,4)+\"-\"+input.fromdate.substring(5,7);var isExist=periodExists(period);if(isExist){toast({title:\"Site Allowance period is existed!\",status:\"warning\"});// setError(true);\nreturn null;}// build siteallowsbatch\nvar diffInDays=differenceInDays(new Date(input.todate),new Date(input.fromdate));var amount=0;for(var i=0;i<=diffInDays;i++){amount=amount+input.jobbonus+input.perdiem;var data=addDays(new Date(input.fromdate),i);addDailyAllowsDetls({empid:loginLevel.loginUserId,name:loginLevel.loginUser,period:period,date:data,district:input.district,typeoperation:input.typeoperation,client:input.client,location:input.location,jobno:input.jobno,crewoperation:input.crewoperation,jobbonus:input.jobbonus,perdiem:input.perdiem,status:\"Pending\"});}//add daily allowances batch\naddDailyAllows({period:period,location:input.location,manager:input.manager,name:loginLevel.loginUser,empid:loginLevel.loginUserId,status:\"Pending\",no_of_days:diffInDays,amount:amount});// dailyallowances.push({\n//   period: period,\n//   location: input.location,\n//   manager: input.manager,\n//   name: loginLevel.loginUser,\n//   empid: loginLevel.loginUserId,\n//   status: \"Pending\",\n//   no_of_days: diffInDays,\n//   amount: amount,\n// });\nhandleDialogClose();};var handleChange=function handleChange(e){e.preventDefault();var _e$target=e.target,name=_e$target.name,type=_e$target.type,value=_e$target.value;var val=type===\"number\"?parseFloat(value):value;setInput(_objectSpread(_objectSpread({},input),{},_defineProperty({},name,val)));};var handleSubmit=function handleSubmit(e){e.preventDefault();var period=input.fromdate.substring(0,4)+\"-\"+input.fromdate.substring(5,7);setInput(_objectSpread(_objectSpread({},input),{},{period:period}));buildSiteAllows();};return/*#__PURE__*/_jsx(Paper,{className:fixedHeightPaper,style:{backgroundColor:\"secondary\"},children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(e){return handleSubmit(e);},children:[/*#__PURE__*/_jsx(Grid,{container:true,spacing:0,direction:\"row\",alignItems:\"center\",justify:\"center\",style:{border:\"1px solid white\"},children:/*#__PURE__*/_jsx(Heading,{color:\"blue\",style:{padding:10},children:\"Build Site Allowances\"})}),/*#__PURE__*/_jsx(Grid,{container:true,spacing:0,direction:\"row\",alignItems:\"center\",justify:\"center\",style:{border:\"1px solid white\"},children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Grid,{item:true,sm:12,style:{border:\"1px solid white\"},align:\"left\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",flexDirection:\"row\"},children:[/*#__PURE__*/_jsx(TextField,{label:\"From Date\",variant:\"filled\",required:true,style:{width:\"100%\"},name:\"fromdate\",value:input.fromdate,type:\"date\",className:classes.textField,onChange:function onChange(e){return handleChange(e);},InputLabelProps:{shrink:true}}),/*#__PURE__*/_jsx(TextField,{label:\"To Date\",variant:\"filled\",required:true,style:{width:\"100%\"},name:\"todate\",value:input.todate,type:\"date\",className:classes.textField,onChange:function onChange(e){return handleChange(e);},InputLabelProps:{shrink:true}})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",flexDirection:\"row\"},children:/*#__PURE__*/_jsx(TextField,{label:\"Manager\",variant:\"filled\"//required\n,style:{width:\"100%\"},name:\"manager\",value:input.manager,className:classes.textField,onChange:function onChange(e){return handleChange(e);}})}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",flexDirection:\"row\"},children:[/*#__PURE__*/_jsx(TextField,{label:\"District\",variant:\"filled\"//required\n,value:input.district,style:{width:\"100%\"},name:\"district\",className:classes.textField,onChange:function onChange(e){return handleChange(e);}}),/*#__PURE__*/_jsx(TextField,{label:\"Location/Rig\",variant:\"filled\"//required\n,value:input.location,style:{width:\"100%\"},name:\"location\",className:classes.textField,onChange:function onChange(e){return handleChange(e);}})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",flexDirection:\"row\"},children:[/*#__PURE__*/_jsx(TextField,{label:\"Operation Type\",variant:\"filled\"//required\n,value:input.typeoperation,style:{width:\"100%\"},name:\"typeoperation\",className:classes.textField,onChange:function onChange(e){return handleChange(e);}}),/*#__PURE__*/_jsx(TextField,{label:\"Client\",variant:\"filled\"//required\n,value:input.client,style:{width:\"100%\"},name:\"client\",className:classes.textField,onChange:function onChange(e){return handleChange(e);}})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",flexDirection:\"row\"},children:[/*#__PURE__*/_jsx(TextField,{label:\"Ticket No/Job No\",variant:\"filled\"//required\n,value:input.jobno,style:{width:\"100%\"},name:\"jobno\",className:classes.textField,onChange:function onChange(e){return handleChange(e);}}),/*#__PURE__*/_jsx(TextField,{label:\"Crew Operation\",variant:\"filled\"//required\n,value:input.creqoperation,style:{width:\"100%\"},name:\"crewoperation\",className:classes.textField,onChange:function onChange(e){return handleChange(e);}})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",flexDirection:\"row\"},children:[/*#__PURE__*/_jsx(TextField,{label:\"Job Bonus\",variant:\"filled\",required:true,value:input.jobbonus,style:{width:\"100%\"},name:\"jobbonus\",type:\"number\",className:classes.textField,onChange:function onChange(e){return handleChange(e);},InputLabelProps:{shrink:true}}),/*#__PURE__*/_jsx(TextField,{label:\"Per Diem\",variant:\"filled\",required:true,value:input.perdiem,style:{width:\"100%\"},name:\"perdiem\",type:\"number\",className:classes.textField,onChange:function onChange(e){return handleChange(e);},InputLabelProps:{shrink:true}})]})]})})}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:0,direction:\"row\",alignItems:\"center\",justify:\"center\",style:{border:\"1px solid white\"},children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Button,{type:\"submit\",variant:\"contained\",color:\"primary\",className:classes.button,children:[\"Build \",/*#__PURE__*/_jsx(Icon,{className:classes.rightIcon,children:\"send\"})]})}),/*#__PURE__*/_jsx(\"div\",{children:error&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",onClose:function onClose(){return setError(false);},children:\"Period already existed!\"})})]})]})});};var useStyles=makeStyles(function(theme){return{root:{flexGrow:1},button:{margin:theme.spacing(1)},container:{margin:0,padding:0,width:\"80vw\",display:\"grid\",gridTemplateColumns:\"repeat(auto-fill,250px)\",gridAutoRows:\"10px\",position:\"absolute\",left:\"50%\",transform:\"translateX(-50%)\",justifyContent:\"center\",backgroundColor:\"primary\"},fixedHeight:{height:800},paper:{padding:theme.spacing(10),// display: \"flex\",\ndisplay:\"flex\",overflow:\"auto\",flexDirection:\"column\",border:\"1px solid\",width:\"100%\",color:\"primary\",bcakgroundColor:\"black\"},card:{backgroundColor:\"black\"},section:{width:\"95vw\",margin:\"5rem auto\",maxWidth:\"var(--max-width)\"},underline:{width:\"5rem\",height:\"0.25rem\",marginBottom:\"1.25rem\",background:\"var(--clr-primary-5)\",marginLeft:\"auto\",marginRight:\"auto\"},title:{marginbottom:\"4rem\",textAlign:\"center\"},jobscenter:{width:\"80vw\",margin:\"0 auto\",maxWidth:\"var(--max-width)\",flexDirection:\"row\"},btncontainer:{display:\"flex\",flexDirection:\"row\",justifyContent:\"center\",marginBottom:\"4rem\",flexWrap:\"wrap\"},jobbtn:{background:\"transparent\",borderColor:\"transparent\",textTransform:\"capitalize\",fontSize:\"1.25rem\",letterSpacing:\"var(--spacing)\",margin:\"0 0.5rem\",transition:\"var(--transition)\",cursor:\"pointer\",padding:\"0.25rem 0\",lineHeight:\"1\",outlineColor:\"var(--clr-primary-10)\",\"&:hover\":{color:\"var(--clr-primary-5)\",boxShadow:\"0 2px var(--clr-primary-5)\"}},activebtn:{color:\"var(--clr-primary-5)\",boxShadow:\"0 2px var(--clr-primary-5)\"},jobinfo:{fontWeight:\"400\"},rightIcon:{marginLeft:theme.spacing(1)},formLabel:{fontSize:12,textAlign:\"left\",marginLeft:8,marginTop:8},textField:{marginLeft:theme.spacing(1),marginRight:theme.spacing(1),width:200}};});export default DailyAllowancesAddPeriod;","map":{"version":3,"sources":["D:/react-myprojects/hrms-airtable-july2/src/components/DailyAllowancesAddPeriod.js"],"names":["React","useState","useEffect","makeStyles","differenceInDays","addDays","Heading","useCustomToast","clsx","Button","Paper","Grid","Icon","TextField","Alert","useRecoilState","siteallowsState","loginLevelState","useDailyAllowancesContext","useDailyAllows","useAddDailyAllows","useDailyAllowsDetls","useAddDailyAllowsDetls","selectYear","name","selectMonth","DailyAllowancesAddPeriod","handleDialogClose","date","Date","longMonth","toLocaleString","month","classes","useStyles","fixedHeightPaper","paper","fixedHeight","toast","dailyallows","dailyallowsdetls","addDailyAllows","addDailyAllowsDetls","input","setInput","loginLevel","setLoginLevel","allowsPeriod","setAllowsPeriod","alert","setAlert","error","setError","empid","loginUserId","loginUser","jobbonus","siteallows_fee","perdiem","perdiem_fee","manager","reporting_to","clieng","periodExists","data","some","el","period","buildSiteAllows","fromdate","substring","isExist","title","status","diffInDays","todate","amount","i","district","typeoperation","client","location","jobno","crewoperation","no_of_days","handleChange","e","preventDefault","target","type","value","val","parseFloat","handleSubmit","backgroundColor","border","padding","display","flexDirection","width","textField","shrink","creqoperation","button","rightIcon","theme","root","flexGrow","margin","spacing","container","gridTemplateColumns","gridAutoRows","position","left","transform","justifyContent","height","overflow","color","bcakgroundColor","card","section","maxWidth","underline","marginBottom","background","marginLeft","marginRight","marginbottom","textAlign","jobscenter","btncontainer","flexWrap","jobbtn","borderColor","textTransform","fontSize","letterSpacing","transition","cursor","lineHeight","outlineColor","boxShadow","activebtn","jobinfo","fontWeight","formLabel","marginTop"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { differenceInDays, addDays } from \"date-fns\";\r\nimport { Heading } from \"@chakra-ui/react\";\r\nimport { useCustomToast } from \"../helpers/useCustomToast\";\r\nimport clsx from \"clsx\";\r\nimport { Button, Paper, Grid, Icon, TextField } from \"@material-ui/core\";\r\nimport { Alert } from \"@material-ui/lab\";\r\nimport { useRecoilState } from \"recoil\";\r\nimport { siteallowsState, loginLevelState } from \"./data/atomdata\";\r\nimport { useDailyAllowancesContext } from \"../context/dailyallowances_context\";\r\nimport { useDailyAllows } from \"./dailyallows/useDailyAllows\";\r\nimport { useAddDailyAllows } from \"./dailyallows/useAddDailyAllows\";\r\nimport { useDailyAllowsDetls } from \"./dailyallowsdetls/useDailyAllowsDetls\";\r\nimport { useAddDailyAllowsDetls } from \"./dailyallowsdetls/useAddDailyAllowsDetls\";\r\n\r\n//const drawerWidth = 240;\r\nconst selectYear = [{ name: \"2021\" }, { name: \"2022\" }];\r\nconst selectMonth = [\r\n  { name: \"January\" },\r\n  { name: \"February\" },\r\n  { name: \"March\" },\r\n  { name: \"April\" },\r\n  { name: \"May\" },\r\n  { name: \"June\" },\r\n];\r\n\r\nconst DailyAllowancesAddPeriod = ({ handleDialogClose }) => {\r\n  let date = new Date();\r\n  let longMonth = date.toLocaleString(\"en-us\", { month: \"long\" });\r\n  //console.log(\"date\", date, longMonth);\r\n  const classes = useStyles();\r\n  const fixedHeightPaper = clsx(classes.paper, classes.fixedHeight);\r\n  const toast = useCustomToast();\r\n  const { dailyallows } = useDailyAllows();\r\n  const { dailyallowsdetls } = useDailyAllowsDetls();\r\n  const addDailyAllows = useAddDailyAllows();\r\n  const addDailyAllowsDetls = useAddDailyAllowsDetls();\r\n  const [input, setInput] = useRecoilState(siteallowsState);\r\n  const [loginLevel, setLoginLevel] = useRecoilState(loginLevelState);\r\n  const [allowsPeriod, setAllowsPeriod] = useState(\"\");\r\n  const [alert, setAlert] = useState(false);\r\n  const [error, setError] = useState(false);\r\n  // const { dailyallowances, addDailyAllowance, addDailyAllowsDetl } =\r\n  //   useDailyAllowancesContext();\r\n  // function daysInMonth(month, year) {\r\n  //   return new Date(year, month, 0).getDate();\r\n  // }\r\n\r\n  useEffect(() => {\r\n    setInput({\r\n      ...input,\r\n      empid: loginLevel.loginUserId,\r\n      name: loginLevel.loginUser,\r\n      jobbonus: loginLevel.siteallows_fee,\r\n      perdiem: loginLevel.perdiem_fee,\r\n      manager: loginLevel.reporting_to,\r\n      clieng: \"\",\r\n    });\r\n  }, []);\r\n\r\n  const periodExists = (data) => {\r\n    return dailyallows.some(function (el) {\r\n      return el.period === data;\r\n    });\r\n  };\r\n\r\n  const buildSiteAllows = () => {\r\n    const period =\r\n      input.fromdate.substring(0, 4) + \"-\" + input.fromdate.substring(5, 7);\r\n\r\n    const isExist = periodExists(period);\r\n    if (isExist) {\r\n      toast({\r\n        title: \"Site Allowance period is existed!\",\r\n        status: \"warning\",\r\n      });\r\n      // setError(true);\r\n      return null;\r\n    }\r\n\r\n    // build siteallowsbatch\r\n\r\n    const diffInDays = differenceInDays(\r\n      new Date(input.todate),\r\n      new Date(input.fromdate)\r\n    );\r\n\r\n    let amount = 0;\r\n    for (let i = 0; i <= diffInDays; i++) {\r\n      amount = amount + input.jobbonus + input.perdiem;\r\n      const data = addDays(new Date(input.fromdate), i);\r\n      addDailyAllowsDetls({\r\n        empid: loginLevel.loginUserId,\r\n        name: loginLevel.loginUser,\r\n        period: period,\r\n        date: data,\r\n        district: input.district,\r\n        typeoperation: input.typeoperation,\r\n        client: input.client,\r\n        location: input.location,\r\n        jobno: input.jobno,\r\n        crewoperation: input.crewoperation,\r\n        jobbonus: input.jobbonus,\r\n        perdiem: input.perdiem,\r\n        status: \"Pending\",\r\n      });\r\n    }\r\n    //add daily allowances batch\r\n    addDailyAllows({\r\n      period: period,\r\n      location: input.location,\r\n      manager: input.manager,\r\n      name: loginLevel.loginUser,\r\n      empid: loginLevel.loginUserId,\r\n      status: \"Pending\",\r\n      no_of_days: diffInDays,\r\n      amount: amount,\r\n    });\r\n\r\n    // dailyallowances.push({\r\n    //   period: period,\r\n    //   location: input.location,\r\n    //   manager: input.manager,\r\n    //   name: loginLevel.loginUser,\r\n    //   empid: loginLevel.loginUserId,\r\n    //   status: \"Pending\",\r\n    //   no_of_days: diffInDays,\r\n    //   amount: amount,\r\n    // });\r\n    handleDialogClose();\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    e.preventDefault();\r\n    const { name, type, value } = e.target;\r\n    const val = type === \"number\" ? parseFloat(value) : value;\r\n    setInput({ ...input, [name]: val });\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const period =\r\n      input.fromdate.substring(0, 4) + \"-\" + input.fromdate.substring(5, 7);\r\n    setInput({\r\n      ...input,\r\n      period: period,\r\n    });\r\n\r\n    buildSiteAllows();\r\n  };\r\n\r\n  return (\r\n    <Paper\r\n      className={fixedHeightPaper}\r\n      style={{ backgroundColor: \"secondary\" }}\r\n    >\r\n      <form onSubmit={(e) => handleSubmit(e)}>\r\n        <Grid\r\n          container\r\n          spacing={0}\r\n          direction=\"row\"\r\n          alignItems=\"center\"\r\n          justify=\"center\"\r\n          style={{ border: \"1px solid white\" }}\r\n        >\r\n          <Heading color=\"blue\" style={{ padding: 10 }}>\r\n            Build Site Allowances\r\n          </Heading>\r\n        </Grid>\r\n        <Grid\r\n          container\r\n          spacing={0}\r\n          direction=\"row\"\r\n          alignItems=\"center\"\r\n          justify=\"center\"\r\n          style={{ border: \"1px solid white\" }}\r\n        >\r\n          <div>\r\n            <Grid\r\n              item\r\n              sm={12}\r\n              style={{ border: \"1px solid white\" }}\r\n              align=\"left\"\r\n            >\r\n              {/* <div style={{ display: \"flex\", flexDirection: \"row\" }}>\r\n                <TextField\r\n                  label=\"Year\"\r\n                  id=\"margin-normal\"\r\n                  name=\"year\"\r\n                  required\r\n                  defaultValue={input.year}\r\n                  className={classes.textField}\r\n                  onChange={(e) => handleChange(e)}\r\n                  style={{ width: \"100%\", marginTop: 10, marginLeft: 10 }}\r\n                  error={!!error}\r\n                  helperText={error ? error.message : null}\r\n                  select\r\n                >\r\n                  {selectYear.map((item) => {\r\n                    return <MenuItem value={item.name}>{item.name}</MenuItem>;\r\n                  })}\r\n                </TextField>\r\n                <TextField\r\n                  label=\"Month\"\r\n                  id=\"margin-normal\"\r\n                  name=\"month\"\r\n                  required\r\n                  defaultValue={input.month}\r\n                  style={{ width: \"100%\", marginTop: 10, marginLeft: 0 }}\r\n                  className={classes.textField}\r\n                  onChange={(e) => handleChange(e)}\r\n                  error={!!error}\r\n                  helperText={error ? error.message : null}\r\n                  select\r\n                >\r\n                  {selectMonth.map((item) => {\r\n                    return <MenuItem value={item.name}>{item.name}</MenuItem>;\r\n                  })}\r\n                </TextField>\r\n              </div> */}\r\n              <div style={{ display: \"flex\", flexDirection: \"row\" }}>\r\n                <TextField\r\n                  label=\"From Date\"\r\n                  variant=\"filled\"\r\n                  required\r\n                  style={{ width: \"100%\" }}\r\n                  name=\"fromdate\"\r\n                  value={input.fromdate}\r\n                  type=\"date\"\r\n                  className={classes.textField}\r\n                  onChange={(e) => handleChange(e)}\r\n                  InputLabelProps={{\r\n                    shrink: true,\r\n                  }}\r\n                ></TextField>\r\n                <TextField\r\n                  label=\"To Date\"\r\n                  variant=\"filled\"\r\n                  required\r\n                  style={{ width: \"100%\" }}\r\n                  name=\"todate\"\r\n                  value={input.todate}\r\n                  type=\"date\"\r\n                  className={classes.textField}\r\n                  onChange={(e) => handleChange(e)}\r\n                  InputLabelProps={{\r\n                    shrink: true,\r\n                  }}\r\n                ></TextField>\r\n              </div>\r\n              <div style={{ display: \"flex\", flexDirection: \"row\" }}>\r\n                {/* <TextField\r\n                  label=\"Period\"\r\n                  variant=\"filled\"\r\n                  required\r\n                  style={{ width: \"100%\" }}\r\n                  name=\"period\"\r\n                  value={input.period}\r\n                  className={classes.textField}\r\n                  onChange={(e) => handleChange(e)}\r\n                ></TextField> */}\r\n                {/* <Divider className={classes.divider} /> */}\r\n                <TextField\r\n                  label=\"Manager\"\r\n                  variant=\"filled\"\r\n                  //required\r\n                  style={{ width: \"100%\" }}\r\n                  name=\"manager\"\r\n                  value={input.manager}\r\n                  className={classes.textField}\r\n                  onChange={(e) => handleChange(e)}\r\n                ></TextField>\r\n              </div>\r\n              <div style={{ display: \"flex\", flexDirection: \"row\" }}>\r\n                <TextField\r\n                  label=\"District\"\r\n                  variant=\"filled\"\r\n                  //required\r\n                  value={input.district}\r\n                  style={{ width: \"100%\" }}\r\n                  name=\"district\"\r\n                  className={classes.textField}\r\n                  onChange={(e) => handleChange(e)}\r\n                ></TextField>\r\n                <TextField\r\n                  label=\"Location/Rig\"\r\n                  variant=\"filled\"\r\n                  //required\r\n                  value={input.location}\r\n                  style={{ width: \"100%\" }}\r\n                  name=\"location\"\r\n                  className={classes.textField}\r\n                  onChange={(e) => handleChange(e)}\r\n                ></TextField>\r\n              </div>\r\n              <div style={{ display: \"flex\", flexDirection: \"row\" }}>\r\n                <TextField\r\n                  label=\"Operation Type\"\r\n                  variant=\"filled\"\r\n                  //required\r\n                  value={input.typeoperation}\r\n                  style={{ width: \"100%\" }}\r\n                  name=\"typeoperation\"\r\n                  className={classes.textField}\r\n                  onChange={(e) => handleChange(e)}\r\n                ></TextField>\r\n                <TextField\r\n                  label=\"Client\"\r\n                  variant=\"filled\"\r\n                  //required\r\n                  value={input.client}\r\n                  style={{ width: \"100%\" }}\r\n                  name=\"client\"\r\n                  className={classes.textField}\r\n                  onChange={(e) => handleChange(e)}\r\n                ></TextField>\r\n              </div>\r\n              <div style={{ display: \"flex\", flexDirection: \"row\" }}>\r\n                <TextField\r\n                  label=\"Ticket No/Job No\"\r\n                  variant=\"filled\"\r\n                  //required\r\n                  value={input.jobno}\r\n                  style={{ width: \"100%\" }}\r\n                  name=\"jobno\"\r\n                  className={classes.textField}\r\n                  onChange={(e) => handleChange(e)}\r\n                ></TextField>\r\n                <TextField\r\n                  label=\"Crew Operation\"\r\n                  variant=\"filled\"\r\n                  //required\r\n                  value={input.creqoperation}\r\n                  style={{ width: \"100%\" }}\r\n                  name=\"crewoperation\"\r\n                  className={classes.textField}\r\n                  onChange={(e) => handleChange(e)}\r\n                ></TextField>\r\n              </div>\r\n              <div style={{ display: \"flex\", flexDirection: \"row\" }}>\r\n                <TextField\r\n                  label=\"Job Bonus\"\r\n                  variant=\"filled\"\r\n                  required\r\n                  value={input.jobbonus}\r\n                  style={{ width: \"100%\" }}\r\n                  name=\"jobbonus\"\r\n                  type=\"number\"\r\n                  className={classes.textField}\r\n                  onChange={(e) => handleChange(e)}\r\n                  InputLabelProps={{\r\n                    shrink: true,\r\n                  }}\r\n                ></TextField>\r\n                <TextField\r\n                  label=\"Per Diem\"\r\n                  variant=\"filled\"\r\n                  required\r\n                  value={input.perdiem}\r\n                  style={{ width: \"100%\" }}\r\n                  name=\"perdiem\"\r\n                  type=\"number\"\r\n                  className={classes.textField}\r\n                  onChange={(e) => handleChange(e)}\r\n                  InputLabelProps={{\r\n                    shrink: true,\r\n                  }}\r\n                ></TextField>\r\n              </div>\r\n            </Grid>\r\n          </div>\r\n        </Grid>\r\n        <Grid\r\n          container\r\n          spacing={0}\r\n          direction=\"row\"\r\n          alignItems=\"center\"\r\n          justify=\"center\"\r\n          style={{ border: \"1px solid white\" }}\r\n        >\r\n          <div>\r\n            <Button\r\n              type=\"submit\"\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              className={classes.button}\r\n            >\r\n              Build <Icon className={classes.rightIcon}>send</Icon>\r\n            </Button>\r\n          </div>\r\n          <div>\r\n            {error && (\r\n              <Alert severity=\"error\" onClose={() => setError(false)}>\r\n                Period already existed!\r\n              </Alert>\r\n            )}\r\n          </div>\r\n        </Grid>\r\n      </form>\r\n    </Paper>\r\n  );\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  button: {\r\n    margin: theme.spacing(1),\r\n  },\r\n  container: {\r\n    margin: 0,\r\n    padding: 0,\r\n    width: \"80vw\",\r\n    display: \"grid\",\r\n    gridTemplateColumns: \"repeat(auto-fill,250px)\",\r\n    gridAutoRows: \"10px\",\r\n    position: \"absolute\",\r\n    left: \"50%\",\r\n    transform: \"translateX(-50%)\",\r\n    justifyContent: \"center\",\r\n    backgroundColor: \"primary\",\r\n  },\r\n  fixedHeight: {\r\n    height: 800,\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(10),\r\n    // display: \"flex\",\r\n    display: \"flex\",\r\n    overflow: \"auto\",\r\n    flexDirection: \"column\",\r\n    border: \"1px solid\",\r\n    width: \"100%\",\r\n    color: \"primary\",\r\n    bcakgroundColor: \"black\",\r\n  },\r\n  card: {\r\n    backgroundColor: \"black\",\r\n  },\r\n  section: {\r\n    width: \"95vw\",\r\n    margin: \"5rem auto\",\r\n    maxWidth: \"var(--max-width)\",\r\n  },\r\n  underline: {\r\n    width: \"5rem\",\r\n    height: \"0.25rem\",\r\n    marginBottom: \"1.25rem\",\r\n    background: \"var(--clr-primary-5)\",\r\n    marginLeft: \"auto\",\r\n    marginRight: \"auto\",\r\n  },\r\n  title: {\r\n    marginbottom: \"4rem\",\r\n    textAlign: \"center\",\r\n  },\r\n  jobscenter: {\r\n    width: \"80vw\",\r\n    margin: \"0 auto\",\r\n    maxWidth: \"var(--max-width)\",\r\n    flexDirection: \"row\",\r\n  },\r\n  btncontainer: {\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    justifyContent: \"center\",\r\n    marginBottom: \"4rem\",\r\n    flexWrap: \"wrap\",\r\n  },\r\n  jobbtn: {\r\n    background: \"transparent\",\r\n    borderColor: \"transparent\",\r\n    textTransform: \"capitalize\",\r\n    fontSize: \"1.25rem\",\r\n    letterSpacing: \"var(--spacing)\",\r\n    margin: \"0 0.5rem\",\r\n    transition: \"var(--transition)\",\r\n    cursor: \"pointer\",\r\n    padding: \"0.25rem 0\",\r\n    lineHeight: \"1\",\r\n    outlineColor: \"var(--clr-primary-10)\",\r\n    \"&:hover\": {\r\n      color: \"var(--clr-primary-5)\",\r\n      boxShadow: \"0 2px var(--clr-primary-5)\",\r\n    },\r\n  },\r\n  activebtn: {\r\n    color: \"var(--clr-primary-5)\",\r\n    boxShadow: \"0 2px var(--clr-primary-5)\",\r\n  },\r\n  jobinfo: {\r\n    fontWeight: \"400\",\r\n  },\r\n  rightIcon: {\r\n    marginLeft: theme.spacing(1),\r\n  },\r\n  formLabel: {\r\n    fontSize: 12,\r\n    textAlign: \"left\",\r\n    marginLeft: 8,\r\n    marginTop: 8,\r\n  },\r\n  textField: {\r\n    marginLeft: theme.spacing(1),\r\n    marginRight: theme.spacing(1),\r\n    width: 200,\r\n  },\r\n}));\r\n\r\nexport default DailyAllowancesAddPeriod;\r\n"]},"metadata":{},"sourceType":"module"}