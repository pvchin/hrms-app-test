{"ast":null,"code":"import _defineProperty from\"D:/react-myprojects/hrms-airtable-july2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"D:/react-myprojects/hrms-airtable-july2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"D:/react-myprojects/hrms-airtable-july2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"D:/react-myprojects/hrms-airtable-july2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{makeStyles}from\"@material-ui/core/styles\";import clsx from\"clsx\";import{TextField,Grid,Paper,Container,Box}from\"@material-ui/core\";import CardLayout from\"../helpers/CardLayout\";import CardLayout2 from\"../helpers/CardLayout2\";import CardLayout3 from\"../helpers/CardLayout3\";import Copyright from\"./Copyright\";import{CustomDialog}from\"../helpers/CustomDialog\";import{useRecoilState}from\"recoil\";import{loginLevelState}from\"./data/atomdata\";import{useEmployeesContext}from\"../context/employees_context\";import{useLeavesContext}from\"../context/leaves_context\";import{useExpensesContext}from\"../context/expenses_context\";import{usePayslipsContext}from\"../context/payslips_context\";import{useDailyAllowancesContext}from\"../context/dailyallowances_context\";import LeaveTableViewStaff from\"./LeaveTableViewStaff\";import TrainingsTableViewStaff from\"./TrainingsTableViewStaff\";import LeaveTableAdmin from\"./LeaveTableAdmin\";import ExpenseTableViewStaff from\"./ExpenseTableViewStaff\";import ExpenseTableAdmin from\"./ExpenseTableAdmin\";import PayslipTableViewStaff from\"./PayslipTableViewStaff\";import PayslipTableAdmin from\"./PayslipTableAdmin\";import DailyAllowancesTableViewStaff from\"./DailyAllowancesTableViewStaff\";import DailyAllowancesTableAdmin from\"./DailyAllowancesTableAdmin\";import OnLeavesViewStaff from\"./OnLeavesViewStaff\";import WPExpiryViewStaff from\"./WPExpiryViewStaff\";import{useEmployees}from\"./employees/useEmployees\";import{useSingleEmployee}from\"./employees/useSingleEmployee\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var drawerWidth=240;var FILTERSTRING=\"Pending\";var HomeStaff=function HomeStaff(){var classes=useStyles();var fixedHeightPaper=clsx(classes.paper,classes.fixedHeight);var _useRecoilState=useRecoilState(loginLevelState),_useRecoilState2=_slicedToArray(_useRecoilState,2),loginLevel=_useRecoilState2[0],setLoginLevel=_useRecoilState2[1];var _useEmployees=useEmployees(),employees=_useEmployees.employees,setFilter=_useEmployees.setFilter,setEmployeeId=_useEmployees.setEmployeeId;var _useSingleEmployee=useSingleEmployee(),singleemployee=_useSingleEmployee.singleemployee,setSingleEmployeeId=_useSingleEmployee.setSingleEmployeeId;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),leavesdata=_useState2[0],setLeavesdata=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isLeaveDialogOpen=_useState4[0],setIsLeaveDialogOpen=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),expensesdata=_useState6[0],setExpensesdata=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isExpenseDialogOpen=_useState8[0],setIsExpenseDialogOpen=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),payslipsdata=_useState10[0],setPayslipsdata=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),isPayslipDialogOpen=_useState12[0],setIsPayslipDialogOpen=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),dailyallowancesdata=_useState14[0],setDailyAllowancesdata=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),isDailyAllowancesDialogOpen=_useState16[0],setIsDailyAllowancesDialogOpen=_useState16[1];var _useLeavesContext=useLeavesContext(),leaves=_useLeavesContext.leaves,loadPendingLeaves=_useLeavesContext.loadPendingLeaves;var _useExpensesContext=useExpensesContext(),expenses=_useExpensesContext.expenses,loadPendingExpenses=_useExpensesContext.loadPendingExpenses;var _usePayslipsContext=usePayslipsContext(),payslips=_usePayslipsContext.payslips,loadPendingPayslips=_usePayslipsContext.loadPendingPayslips;var _useDailyAllowancesCo=useDailyAllowancesContext(),dailyallowances=_useDailyAllowancesCo.dailyallowances,loadPendingDailyAllowances=_useDailyAllowancesCo.loadPendingDailyAllowances;var _useEmployeesContext=useEmployeesContext(),isEditing=_useEmployeesContext.isEditing,setEditEmployeeID=_useEmployeesContext.setEditEmployeeID,setIsEditingOn=_useEmployeesContext.setIsEditingOn;var handleLeaveDialogOpen=function handleLeaveDialogOpen(){setLeavesdata([]);setLeavesdata(_toConsumableArray(leaves));setIsLeaveDialogOpen(true);};var handleLeaveDialogClose=function handleLeaveDialogClose(){setIsLeaveDialogOpen(false);//loadPendingLeaves(FILTERSTRING);\n};var handleExpenseDialogOpen=function handleExpenseDialogOpen(){setExpensesdata([]);setExpensesdata(_toConsumableArray(expenses));setIsExpenseDialogOpen(true);};var handleExpenseDialogClose=function handleExpenseDialogClose(){setIsExpenseDialogOpen(false);//loadPendingExpenses(FILTERSTRING);\n};var handlePayslipDialogOpen=function handlePayslipDialogOpen(){setPayslipsdata([]);setPayslipsdata(_toConsumableArray(payslips));setIsPayslipDialogOpen(true);};var handlePayslipDialogClose=function handlePayslipDialogClose(){setIsPayslipDialogOpen(false);//loadPendingPayslips(FILTERSTRING);\n};var handleDailyAllowancesDialogOpen=function handleDailyAllowancesDialogOpen(){setDailyAllowancesdata([]);setDailyAllowancesdata(_toConsumableArray(dailyallowances));setIsDailyAllowancesDialogOpen(true);};var handleDailyAllowancesDialogClose=function handleDailyAllowancesDialogClose(){setIsDailyAllowancesDialogOpen(false);loadPendingDailyAllowances(FILTERSTRING);};useEffect(function(){setEditEmployeeID(loginLevel.loginUserId);setIsEditingOn();});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:classes.appBarSpacer}),/*#__PURE__*/_jsx(\"div\",{style:{paddingLeft:50}}),/*#__PURE__*/_jsxs(Container,{maxWidth:\"lg\",className:classes.container,children:[/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:8,lg:12}),/*#__PURE__*/_jsx(Grid,{item:true,xs:6,md:8,lg:6,children:/*#__PURE__*/_jsx(CardLayout2,{title:\"\",children:/*#__PURE__*/_jsx(LeaveTableViewStaff,{})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:6,md:8,lg:6,children:/*#__PURE__*/_jsx(CardLayout2,{title:\"\",handleClick:handleExpenseDialogOpen,children:/*#__PURE__*/_jsx(ExpenseTableViewStaff,{})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:6,md:8,lg:6,children:/*#__PURE__*/_jsx(CardLayout2,{title:\"\",children:/*#__PURE__*/_jsx(TrainingsTableViewStaff,{})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:6,md:8,lg:6,children:/*#__PURE__*/_jsx(CardLayout2,{title:\"\",children:/*#__PURE__*/_jsx(WPExpiryViewStaff,{})})})]}),/*#__PURE__*/_jsx(Box,{pt:4,children:/*#__PURE__*/_jsx(Copyright,{})}),/*#__PURE__*/_jsx(CustomDialog,{isOpen:isLeaveDialogOpen,handleClose:handleLeaveDialogClose,title:\"\",showButton:true,isFullscreen:false,isFullwidth:false,children:/*#__PURE__*/_jsx(LeaveTableAdmin,{setLeavesdata:setLeavesdata,leavesdata:leavesdata,handleDialogClose:handleLeaveDialogClose})}),/*#__PURE__*/_jsx(CustomDialog,{isOpen:isExpenseDialogOpen,handleClose:handleExpenseDialogClose,title:\"\",showButton:true,isFullscreen:false,isFullwidth:false,children:/*#__PURE__*/_jsx(ExpenseTableAdmin,{setExpensesdata:setExpensesdata,expensesdata:expensesdata,handleDialogClose:handleExpenseDialogClose})}),/*#__PURE__*/_jsx(CustomDialog,{isOpen:isPayslipDialogOpen,handleClose:handlePayslipDialogClose,title:\"\",showButton:true,isFullscreen:true,isFullwidth:false,children:/*#__PURE__*/_jsx(PayslipTableAdmin,{setPayslipsdata:setPayslipsdata,payslipsdata:payslipsdata,handleDialogClose:handlePayslipDialogClose})}),/*#__PURE__*/_jsx(CustomDialog,{isOpen:isDailyAllowancesDialogOpen,handleClose:handleDailyAllowancesDialogClose,title:\"\",showButton:true,isFullscreen:true,isFullwidth:false,children:/*#__PURE__*/_jsx(DailyAllowancesTableAdmin,{setDailyAllowancesdata:setDailyAllowancesdata,dailyallowancesdata:dailyallowancesdata,handleDialogClose:handleDailyAllowancesDialogClose})})]})]});};var useStyles=makeStyles(function(theme){return{root:{display:\"flex\"},toolbar:{paddingRight:24// keep right padding when drawer closed\n},toolbarIcon:_objectSpread({display:\"flex\",alignItems:\"center\",justifyContent:\"flex-end\",padding:\"0 8px\"},theme.mixins.toolbar),appBar:{zIndex:theme.zIndex.drawer+1,transition:theme.transitions.create([\"width\",\"margin\"],{easing:theme.transitions.easing.sharp,duration:theme.transitions.duration.leavingScreen})},appBarShift:{marginLeft:drawerWidth,width:\"calc(100% - \".concat(drawerWidth,\"px)\"),transition:theme.transitions.create([\"width\",\"margin\"],{easing:theme.transitions.easing.sharp,duration:theme.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:\"none\"},title:{flexGrow:1},drawerPaper:{position:\"relative\",whiteSpace:\"nowrap\",width:drawerWidth,transition:theme.transitions.create(\"width\",{easing:theme.transitions.easing.sharp,duration:theme.transitions.duration.enteringScreen})},drawerPaperClose:_defineProperty({overflowX:\"hidden\",transition:theme.transitions.create(\"width\",{easing:theme.transitions.easing.sharp,duration:theme.transitions.duration.leavingScreen}),width:theme.spacing(7)},theme.breakpoints.up(\"sm\"),{width:theme.spacing(9)}),appBarSpacer:theme.mixins.toolbar,content:{flexGrow:1,height:\"100vh\",overflow:\"auto\"},container:{paddingTop:theme.spacing(4),paddingBottom:theme.spacing(4)},paper:{padding:theme.spacing(2),display:\"flex\",overflow:\"auto\",flexDirection:\"column\"},fixedHeight:{height:240}};});export default HomeStaff;","map":{"version":3,"sources":["D:/react-myprojects/hrms-airtable-july2/src/components/HomeStaff.js"],"names":["React","useState","useEffect","makeStyles","clsx","TextField","Grid","Paper","Container","Box","CardLayout","CardLayout2","CardLayout3","Copyright","CustomDialog","useRecoilState","loginLevelState","useEmployeesContext","useLeavesContext","useExpensesContext","usePayslipsContext","useDailyAllowancesContext","LeaveTableViewStaff","TrainingsTableViewStaff","LeaveTableAdmin","ExpenseTableViewStaff","ExpenseTableAdmin","PayslipTableViewStaff","PayslipTableAdmin","DailyAllowancesTableViewStaff","DailyAllowancesTableAdmin","OnLeavesViewStaff","WPExpiryViewStaff","useEmployees","useSingleEmployee","drawerWidth","FILTERSTRING","HomeStaff","classes","useStyles","fixedHeightPaper","paper","fixedHeight","loginLevel","setLoginLevel","employees","setFilter","setEmployeeId","singleemployee","setSingleEmployeeId","leavesdata","setLeavesdata","isLeaveDialogOpen","setIsLeaveDialogOpen","expensesdata","setExpensesdata","isExpenseDialogOpen","setIsExpenseDialogOpen","payslipsdata","setPayslipsdata","isPayslipDialogOpen","setIsPayslipDialogOpen","dailyallowancesdata","setDailyAllowancesdata","isDailyAllowancesDialogOpen","setIsDailyAllowancesDialogOpen","leaves","loadPendingLeaves","expenses","loadPendingExpenses","payslips","loadPendingPayslips","dailyallowances","loadPendingDailyAllowances","isEditing","setEditEmployeeID","setIsEditingOn","handleLeaveDialogOpen","handleLeaveDialogClose","handleExpenseDialogOpen","handleExpenseDialogClose","handlePayslipDialogOpen","handlePayslipDialogClose","handleDailyAllowancesDialogOpen","handleDailyAllowancesDialogClose","loginUserId","appBarSpacer","paddingLeft","container","theme","root","display","toolbar","paddingRight","toolbarIcon","alignItems","justifyContent","padding","mixins","appBar","zIndex","drawer","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","marginLeft","width","enteringScreen","menuButton","marginRight","menuButtonHidden","title","flexGrow","drawerPaper","position","whiteSpace","drawerPaperClose","overflowX","spacing","breakpoints","up","content","height","overflow","paddingTop","paddingBottom","flexDirection"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport clsx from \"clsx\";\r\nimport { TextField, Grid, Paper, Container, Box } from \"@material-ui/core\";\r\nimport CardLayout from \"../helpers/CardLayout\";\r\nimport CardLayout2 from \"../helpers/CardLayout2\";\r\nimport CardLayout3 from \"../helpers/CardLayout3\";\r\nimport Copyright from \"./Copyright\";\r\nimport { CustomDialog } from \"../helpers/CustomDialog\";\r\nimport { useRecoilState } from \"recoil\";\r\nimport { loginLevelState } from \"./data/atomdata\";\r\n\r\nimport { useEmployeesContext } from \"../context/employees_context\";\r\nimport { useLeavesContext } from \"../context/leaves_context\";\r\nimport { useExpensesContext } from \"../context/expenses_context\";\r\nimport { usePayslipsContext } from \"../context/payslips_context\";\r\nimport { useDailyAllowancesContext } from \"../context/dailyallowances_context\";\r\nimport LeaveTableViewStaff from \"./LeaveTableViewStaff\";\r\nimport TrainingsTableViewStaff from \"./TrainingsTableViewStaff\";\r\nimport LeaveTableAdmin from \"./LeaveTableAdmin\";\r\nimport ExpenseTableViewStaff from \"./ExpenseTableViewStaff\";\r\nimport ExpenseTableAdmin from \"./ExpenseTableAdmin\";\r\nimport PayslipTableViewStaff from \"./PayslipTableViewStaff\";\r\nimport PayslipTableAdmin from \"./PayslipTableAdmin\";\r\nimport DailyAllowancesTableViewStaff from \"./DailyAllowancesTableViewStaff\";\r\nimport DailyAllowancesTableAdmin from \"./DailyAllowancesTableAdmin\";\r\nimport OnLeavesViewStaff from \"./OnLeavesViewStaff\";\r\nimport WPExpiryViewStaff from \"./WPExpiryViewStaff\";\r\nimport { useEmployees } from \"./employees/useEmployees\";\r\nimport { useSingleEmployee } from \"./employees/useSingleEmployee\";\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst FILTERSTRING = \"Pending\";\r\n\r\nconst HomeStaff = () => {\r\n  const classes = useStyles();\r\n  const fixedHeightPaper = clsx(classes.paper, classes.fixedHeight);\r\n  const [loginLevel, setLoginLevel] = useRecoilState(loginLevelState);\r\n  const { employees, setFilter, setEmployeeId } = useEmployees();\r\n  const { singleemployee, setSingleEmployeeId } = useSingleEmployee();\r\n  const [leavesdata, setLeavesdata] = useState([]);\r\n  const [isLeaveDialogOpen, setIsLeaveDialogOpen] = useState(false);\r\n  const [expensesdata, setExpensesdata] = useState([]);\r\n  const [isExpenseDialogOpen, setIsExpenseDialogOpen] = useState(false);\r\n  const [payslipsdata, setPayslipsdata] = useState([]);\r\n  const [isPayslipDialogOpen, setIsPayslipDialogOpen] = useState(false);\r\n  const [dailyallowancesdata, setDailyAllowancesdata] = useState([]);\r\n  const [isDailyAllowancesDialogOpen, setIsDailyAllowancesDialogOpen] =\r\n    useState(false);\r\n\r\n  const { leaves, loadPendingLeaves } = useLeavesContext();\r\n  const { expenses, loadPendingExpenses } = useExpensesContext();\r\n  const { payslips, loadPendingPayslips } = usePayslipsContext();\r\n  const { dailyallowances, loadPendingDailyAllowances } =\r\n    useDailyAllowancesContext();\r\n  const { isEditing, setEditEmployeeID, setIsEditingOn } =\r\n    useEmployeesContext();\r\n\r\n  const handleLeaveDialogOpen = () => {\r\n    setLeavesdata([]);\r\n    setLeavesdata([...leaves]);\r\n    setIsLeaveDialogOpen(true);\r\n  };\r\n\r\n  const handleLeaveDialogClose = () => {\r\n    setIsLeaveDialogOpen(false);\r\n    //loadPendingLeaves(FILTERSTRING);\r\n  };\r\n\r\n  const handleExpenseDialogOpen = () => {\r\n    setExpensesdata([]);\r\n    setExpensesdata([...expenses]);\r\n    setIsExpenseDialogOpen(true);\r\n  };\r\n\r\n  const handleExpenseDialogClose = () => {\r\n    setIsExpenseDialogOpen(false);\r\n    //loadPendingExpenses(FILTERSTRING);\r\n  };\r\n\r\n  const handlePayslipDialogOpen = () => {\r\n    setPayslipsdata([]);\r\n    setPayslipsdata([...payslips]);\r\n    setIsPayslipDialogOpen(true);\r\n  };\r\n\r\n  const handlePayslipDialogClose = () => {\r\n    setIsPayslipDialogOpen(false);\r\n    //loadPendingPayslips(FILTERSTRING);\r\n  };\r\n\r\n  const handleDailyAllowancesDialogOpen = () => {\r\n    setDailyAllowancesdata([]);\r\n    setDailyAllowancesdata([...dailyallowances]);\r\n    setIsDailyAllowancesDialogOpen(true);\r\n  };\r\n\r\n  const handleDailyAllowancesDialogClose = () => {\r\n    setIsDailyAllowancesDialogOpen(false);\r\n    loadPendingDailyAllowances(FILTERSTRING);\r\n  };\r\n\r\n  useEffect(() => {\r\n    setEditEmployeeID(loginLevel.loginUserId);\r\n    setIsEditingOn();\r\n  });\r\n\r\n  return (\r\n    <div>\r\n      <div className={classes.appBarSpacer} />\r\n      <div style={{ paddingLeft: 50 }}>\r\n        {/* <h2>Welcome Staff {loginLevel.loginUser}!</h2>\r\n        <h3>Dashboard</h3> */}\r\n      </div>\r\n      <Container maxWidth=\"lg\" className={classes.container}>\r\n        <Grid container spacing={3}>\r\n          {/* Chart */}\r\n          <Grid item xs={12} md={8} lg={12}>\r\n            {/* <Paper className={fixedHeightPaper}>\r\n              <div>Chart</div>\r\n            </Paper> */}\r\n            {/* <CardLayout3 title=\"\">\r\n             <h2>Chart</h2>\r\n            </CardLayout3> */}\r\n          </Grid>\r\n          {/* Recent Deposits */}\r\n          <Grid item xs={6} md={8} lg={6}>\r\n            <CardLayout2 title=\"\">\r\n              <LeaveTableViewStaff />\r\n            </CardLayout2>\r\n          </Grid>\r\n          <Grid item xs={6} md={8} lg={6}>\r\n            <CardLayout2 title=\"\" handleClick={handleExpenseDialogOpen}>\r\n              <ExpenseTableViewStaff />\r\n            </CardLayout2>\r\n          </Grid>\r\n          <Grid item xs={6} md={8} lg={6}>\r\n            <CardLayout2 title=\"\">\r\n              <TrainingsTableViewStaff />\r\n            </CardLayout2>\r\n          </Grid>\r\n          {/* <Grid item xs={6} md={8} lg={6}>\r\n            <CardLayout2\r\n              title=\"Payroll History\"\r\n              handleClick={handlePayslipDialogOpen}\r\n            >\r\n              <PayslipTableViewStaff />\r\n            </CardLayout2>\r\n          </Grid> */}\r\n          {/* <Grid item xs={6} md={8} lg={6}>\r\n            <CardLayout2\r\n              title=\"Site Allowances History\"\r\n              handleClick={handleDailyAllowancesDialogOpen}\r\n            >\r\n              <DailyAllowancesTableViewStaff />\r\n            </CardLayout2>\r\n          </Grid> */}\r\n          <Grid item xs={6} md={8} lg={6}>\r\n            <CardLayout2 title=\"\">\r\n              <WPExpiryViewStaff />\r\n            </CardLayout2>\r\n          </Grid>\r\n          {/* Recent Orders */}\r\n        </Grid>\r\n        <Box pt={4}>\r\n          <Copyright />\r\n        </Box>\r\n        <CustomDialog\r\n          isOpen={isLeaveDialogOpen}\r\n          handleClose={handleLeaveDialogClose}\r\n          title=\"\"\r\n          showButton={true}\r\n          isFullscreen={false}\r\n          isFullwidth={false}\r\n        >\r\n          <LeaveTableAdmin\r\n            setLeavesdata={setLeavesdata}\r\n            leavesdata={leavesdata}\r\n            handleDialogClose={handleLeaveDialogClose}\r\n          />\r\n        </CustomDialog>\r\n        <CustomDialog\r\n          isOpen={isExpenseDialogOpen}\r\n          handleClose={handleExpenseDialogClose}\r\n          title=\"\"\r\n          showButton={true}\r\n          isFullscreen={false}\r\n          isFullwidth={false}\r\n        >\r\n          <ExpenseTableAdmin\r\n            setExpensesdata={setExpensesdata}\r\n            expensesdata={expensesdata}\r\n            handleDialogClose={handleExpenseDialogClose}\r\n          />\r\n        </CustomDialog>\r\n        <CustomDialog\r\n          isOpen={isPayslipDialogOpen}\r\n          handleClose={handlePayslipDialogClose}\r\n          title=\"\"\r\n          showButton={true}\r\n          isFullscreen={true}\r\n          isFullwidth={false}\r\n        >\r\n          <PayslipTableAdmin\r\n            setPayslipsdata={setPayslipsdata}\r\n            payslipsdata={payslipsdata}\r\n            handleDialogClose={handlePayslipDialogClose}\r\n          />\r\n        </CustomDialog>\r\n        <CustomDialog\r\n          isOpen={isDailyAllowancesDialogOpen}\r\n          handleClose={handleDailyAllowancesDialogClose}\r\n          title=\"\"\r\n          showButton={true}\r\n          isFullscreen={true}\r\n          isFullwidth={false}\r\n        >\r\n          <DailyAllowancesTableAdmin\r\n            setDailyAllowancesdata={setDailyAllowancesdata}\r\n            dailyallowancesdata={dailyallowancesdata}\r\n            handleDialogClose={handleDailyAllowancesDialogClose}\r\n          />\r\n        </CustomDialog>\r\n      </Container>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n  },\r\n  toolbar: {\r\n    paddingRight: 24, // keep right padding when drawer closed\r\n  },\r\n  toolbarIcon: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"flex-end\",\r\n    padding: \"0 8px\",\r\n    ...theme.mixins.toolbar,\r\n  },\r\n  appBar: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    transition: theme.transitions.create([\"width\", \"margin\"], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n  },\r\n  appBarShift: {\r\n    marginLeft: drawerWidth,\r\n    width: `calc(100% - ${drawerWidth}px)`,\r\n    transition: theme.transitions.create([\"width\", \"margin\"], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  menuButton: {\r\n    marginRight: 36,\r\n  },\r\n  menuButtonHidden: {\r\n    display: \"none\",\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n  drawerPaper: {\r\n    position: \"relative\",\r\n    whiteSpace: \"nowrap\",\r\n    width: drawerWidth,\r\n    transition: theme.transitions.create(\"width\", {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  drawerPaperClose: {\r\n    overflowX: \"hidden\",\r\n    transition: theme.transitions.create(\"width\", {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    width: theme.spacing(7),\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      width: theme.spacing(9),\r\n    },\r\n  },\r\n  appBarSpacer: theme.mixins.toolbar,\r\n  content: {\r\n    flexGrow: 1,\r\n    height: \"100vh\",\r\n    overflow: \"auto\",\r\n  },\r\n  container: {\r\n    paddingTop: theme.spacing(4),\r\n    paddingBottom: theme.spacing(4),\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    display: \"flex\",\r\n    overflow: \"auto\",\r\n    flexDirection: \"column\",\r\n  },\r\n  fixedHeight: {\r\n    height: 240,\r\n  },\r\n}));\r\n\r\nexport default HomeStaff;\r\n"]},"metadata":{},"sourceType":"module"}