{"ast":null,"code":"import _objectWithoutProperties from\"D:/react-myprojects/hrms-airtable-july2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import _objectSpread from\"D:/react-myprojects/hrms-airtable-july2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"D:/react-myprojects/hrms-airtable-july2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/react-myprojects/hrms-airtable-july2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/react-myprojects/hrms-airtable-july2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useEffect,useReducer}from\"react\";import axios from\"axios\";import reducer from\"../reducers/trainings_reducer\";import{trainings_url}from\"../utils/constants\";import{SET_EDITTRAININGID,SET_ISTRAININGEDITING_ON,SET_ISTRAININGEDITING_OFF,SET_SINGLETRAINING,GET_TRAININGS_BEGIN,GET_TRAININGS_SUCCESS,GET_TRAININGS_ERROR,GET_SINGLE_TRAINING_BEGIN,GET_SINGLE_TRAINING_SUCCESS,GET_SINGLE_TRAINING_ERROR,GET_SINGLEBATCH_TRAINING_BEGIN,GET_SINGLEBATCH_TRAINING_SUCCESS,GET_SINGLEBATCH_TRAINING_ERROR,ADD_TRAINING_BEGIN,ADD_TRAINING_SUCCESS,ADD_TRAINING_ERROR,DELETE_TRAINING_BEGIN,DELETE_TRAINING_SUCCESS,DELETE_TRAINING_ERROR,UPDATE_TRAINING_BEGIN,UPDATE_TRAINING_SUCCESS,UPDATE_TRAINING_ERROR,RESET_SINGLE_TRAINING,RESET_TABLES}from\"../actions\";import{jsx as _jsx}from\"react/jsx-runtime\";var initialState={isTrainingEditing:false,alerttraining:{show:false,msg:\"\",type:\"\"},editTrainingID:null,trainings_loading:false,trainings_error:false,trainings:[],single_training_loading:false,single_training_error:false,single_training:{},singlebatch_training_loading:false,singlebatch_training_error:false,singlebatch_training:{},delete_training_loading:false,delete_training_error:false,update_training_loading:false,update_training_error:false,add_training_loading:false,add_training_error:false// filterValue: \"Female\",\n// filterfield: \"gender\",\n};var TrainingsContext=/*#__PURE__*/React.createContext();export var TrainingsProvider=function TrainingsProvider(_ref){var children=_ref.children;var _useReducer=useReducer(reducer,initialState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];var loadTrainings=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,trainings;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch({type:GET_TRAININGS_BEGIN});_context.prev=1;_context.next=4;return fetch(trainings_url);case 4:res=_context.sent;_context.next=7;return res.json();case 7:trainings=_context.sent;dispatch({type:GET_TRAININGS_SUCCESS,payload:trainings});_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](1);dispatch({type:GET_TRAININGS_ERROR});case 14:case\"end\":return _context.stop();}}},_callee,null,[[1,11]]);}));return function loadTrainings(){return _ref2.apply(this,arguments);};}();var setIsTrainingEditingOn=function setIsTrainingEditingOn(){dispatch({type:SET_ISTRAININGEDITING_ON});};var setIsTrainingEditingOff=function setIsTrainingEditingOff(){dispatch({type:SET_ISTRAININGEDITING_OFF});};var resetSingleTraining=function resetSingleTraining(){dispatch({type:RESET_SINGLE_TRAINING});};var setEditTrainingID=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:try{dispatch({type:SET_EDITTRAININGID,payload:id});}catch(error){dispatch(error);}case 1:case\"end\":return _context2.stop();}}},_callee2);}));return function setEditTrainingID(_x){return _ref3.apply(this,arguments);};}();var getSingleTraining=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(id){var _yield$axios$get,data,singletraining;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:dispatch({type:GET_SINGLE_TRAINING_BEGIN});_context3.prev=1;_context3.next=4;return axios.get(\"\".concat(trainings_url,\"?id=\").concat(id));case 4:_yield$axios$get=_context3.sent;data=_yield$axios$get.data;singletraining=data;dispatch({type:GET_SINGLE_TRAINING_SUCCESS,payload:singletraining});_context3.next=13;break;case 10:_context3.prev=10;_context3.t0=_context3[\"catch\"](1);dispatch({type:GET_SINGLE_TRAINING_ERROR});case 13:case\"end\":return _context3.stop();}}},_callee3,null,[[1,10]]);}));return function getSingleTraining(_x2){return _ref4.apply(this,arguments);};}();var getSingleBatchTraining=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(empid){var res,singlebatchtraining;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:dispatch({type:GET_SINGLEBATCH_TRAINING_BEGIN});_context4.prev=1;_context4.next=4;return fetch(\"\".concat(trainings_url,\"?fv=\").concat(empid));case 4:res=_context4.sent;_context4.next=7;return res.json();case 7:singlebatchtraining=_context4.sent;dispatch({type:GET_SINGLEBATCH_TRAINING_SUCCESS,payload:singlebatchtraining});_context4.next=14;break;case 11:_context4.prev=11;_context4.t0=_context4[\"catch\"](1);dispatch({type:GET_SINGLEBATCH_TRAINING_ERROR});case 14:case\"end\":return _context4.stop();}}},_callee4,null,[[1,11]]);}));return function getSingleBatchTraining(_x3){return _ref5.apply(this,arguments);};}();var addTraining=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(data){var id,name,from_date,to_date,reason,no_of_days,status;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:id=data.id,name=data.name,from_date=data.from_date,to_date=data.to_date,reason=data.reason,no_of_days=data.no_of_days,status=data.status;//\ndispatch({type:ADD_TRAINING_BEGIN});_context5.prev=2;_context5.next=5;return fetch(trainings_url,{method:\"POST\",body:JSON.stringify(_objectSpread({},data))});case 5:dispatch({type:ADD_TRAINING_SUCCESS});_context5.next=11;break;case 8:_context5.prev=8;_context5.t0=_context5[\"catch\"](2);dispatch({type:ADD_TRAINING_ERROR});case 11:case\"end\":return _context5.stop();}}},_callee5,null,[[2,8]]);}));return function addTraining(_x4){return _ref6.apply(this,arguments);};}();var updateTraining=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(data){var id,fields;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:id=data.id,fields=_objectWithoutProperties(data,[\"id\"]);dispatch({type:UPDATE_TRAINING_BEGIN});_context6.prev=2;_context6.next=5;return fetch(trainings_url,{method:\"PUT\",body:JSON.stringify(_objectSpread({id:id},fields))});case 5:dispatch({type:UPDATE_TRAINING_SUCCESS});_context6.next=11;break;case 8:_context6.prev=8;_context6.t0=_context6[\"catch\"](2);dispatch({type:UPDATE_TRAINING_ERROR});case 11:case\"end\":return _context6.stop();}}},_callee6,null,[[2,8]]);}));return function updateTraining(_x5){return _ref7.apply(this,arguments);};}();var deleteTraining=/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(id){return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:dispatch({type:DELETE_TRAINING_BEGIN});_context7.prev=1;_context7.next=4;return fetch(trainings_url,{method:\"DELETE\",body:JSON.stringify({id:id})});case 4:dispatch({type:DELETE_TRAINING_SUCCESS});//loadEmployees();\n_context7.next=10;break;case 7:_context7.prev=7;_context7.t0=_context7[\"catch\"](1);dispatch({type:DELETE_TRAINING_ERROR});case 10:case\"end\":return _context7.stop();}}},_callee7,null,[[1,7]]);}));return function deleteTraining(_x6){return _ref8.apply(this,arguments);};}();return/*#__PURE__*/_jsx(TrainingsContext.Provider,{value:_objectSpread(_objectSpread({},state),{},{loadTrainings:loadTrainings,addTraining:addTraining,updateTraining:updateTraining,deleteTraining:deleteTraining,getSingleTraining:getSingleTraining,getSingleBatchTraining:getSingleBatchTraining,setEditTrainingID:setEditTrainingID,setIsTrainingEditingOn:setIsTrainingEditingOn,setIsTrainingEditingOff:setIsTrainingEditingOff,resetSingleTraining:resetSingleTraining}),children:children});};export var useTrainingsContext=function useTrainingsContext(){return useContext(TrainingsContext);};","map":{"version":3,"sources":["D:/react-myprojects/hrms-airtable-july2/src/context/trainings_context.js"],"names":["React","useContext","useEffect","useReducer","axios","reducer","trainings_url","SET_EDITTRAININGID","SET_ISTRAININGEDITING_ON","SET_ISTRAININGEDITING_OFF","SET_SINGLETRAINING","GET_TRAININGS_BEGIN","GET_TRAININGS_SUCCESS","GET_TRAININGS_ERROR","GET_SINGLE_TRAINING_BEGIN","GET_SINGLE_TRAINING_SUCCESS","GET_SINGLE_TRAINING_ERROR","GET_SINGLEBATCH_TRAINING_BEGIN","GET_SINGLEBATCH_TRAINING_SUCCESS","GET_SINGLEBATCH_TRAINING_ERROR","ADD_TRAINING_BEGIN","ADD_TRAINING_SUCCESS","ADD_TRAINING_ERROR","DELETE_TRAINING_BEGIN","DELETE_TRAINING_SUCCESS","DELETE_TRAINING_ERROR","UPDATE_TRAINING_BEGIN","UPDATE_TRAINING_SUCCESS","UPDATE_TRAINING_ERROR","RESET_SINGLE_TRAINING","RESET_TABLES","initialState","isTrainingEditing","alerttraining","show","msg","type","editTrainingID","trainings_loading","trainings_error","trainings","single_training_loading","single_training_error","single_training","singlebatch_training_loading","singlebatch_training_error","singlebatch_training","delete_training_loading","delete_training_error","update_training_loading","update_training_error","add_training_loading","add_training_error","TrainingsContext","createContext","TrainingsProvider","children","state","dispatch","loadTrainings","fetch","res","json","payload","setIsTrainingEditingOn","setIsTrainingEditingOff","resetSingleTraining","setEditTrainingID","id","error","getSingleTraining","get","data","singletraining","getSingleBatchTraining","empid","singlebatchtraining","addTraining","name","from_date","to_date","reason","no_of_days","status","method","body","JSON","stringify","updateTraining","fields","deleteTraining","useTrainingsContext"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useReducer } from \"react\";\r\nimport axios from \"axios\";\r\nimport reducer from \"../reducers/trainings_reducer\";\r\nimport { trainings_url } from \"../utils/constants\";\r\n\r\nimport {\r\n  SET_EDITTRAININGID,\r\n  SET_ISTRAININGEDITING_ON,\r\n  SET_ISTRAININGEDITING_OFF,\r\n  SET_SINGLETRAINING,\r\n  GET_TRAININGS_BEGIN,\r\n  GET_TRAININGS_SUCCESS,\r\n  GET_TRAININGS_ERROR,\r\n  GET_SINGLE_TRAINING_BEGIN,\r\n  GET_SINGLE_TRAINING_SUCCESS,\r\n  GET_SINGLE_TRAINING_ERROR,\r\n  GET_SINGLEBATCH_TRAINING_BEGIN,\r\n  GET_SINGLEBATCH_TRAINING_SUCCESS,\r\n  GET_SINGLEBATCH_TRAINING_ERROR,\r\n  ADD_TRAINING_BEGIN,\r\n  ADD_TRAINING_SUCCESS,\r\n  ADD_TRAINING_ERROR,\r\n  DELETE_TRAINING_BEGIN,\r\n  DELETE_TRAINING_SUCCESS,\r\n  DELETE_TRAINING_ERROR,\r\n  UPDATE_TRAINING_BEGIN,\r\n  UPDATE_TRAINING_SUCCESS,\r\n  UPDATE_TRAINING_ERROR,\r\n  RESET_SINGLE_TRAINING,\r\n  RESET_TABLES,\r\n} from \"../actions\";\r\n\r\nconst initialState = {\r\n  isTrainingEditing: false,\r\n  alerttraining: { show: false, msg: \"\", type: \"\" },\r\n  editTrainingID: null,\r\n  trainings_loading: false,\r\n  trainings_error: false,\r\n  trainings: [],\r\n  single_training_loading: false,\r\n  single_training_error: false,\r\n  single_training: {},\r\n  singlebatch_training_loading: false,\r\n  singlebatch_training_error: false,\r\n  singlebatch_training: {},\r\n  delete_training_loading: false,\r\n  delete_training_error: false,\r\n  update_training_loading: false,\r\n  update_training_error: false,\r\n  add_training_loading: false,\r\n  add_training_error: false,\r\n  // filterValue: \"Female\",\r\n  // filterfield: \"gender\",\r\n};\r\n\r\nconst TrainingsContext = React.createContext();\r\n\r\nexport const TrainingsProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n\r\n  const loadTrainings = async () => {\r\n    dispatch({ type: GET_TRAININGS_BEGIN });\r\n    try {\r\n      // const res = await fetch(\r\n      //   `${employees_url}?filterValue=\"${state.filterValue}\"&filterField=\"${state.filterField}\"`\r\n      // );\r\n      const res = await fetch(trainings_url);\r\n      //const { data } = await axios.get(employees_url);\r\n      //const employees = data;\r\n      const trainings = await res.json();\r\n      dispatch({ type: GET_TRAININGS_SUCCESS, payload: trainings });\r\n    } catch (error) {\r\n      dispatch({ type: GET_TRAININGS_ERROR });\r\n    }\r\n  };\r\n\r\n  const setIsTrainingEditingOn = () => {\r\n    dispatch({ type: SET_ISTRAININGEDITING_ON });\r\n  };\r\n\r\n  const setIsTrainingEditingOff = () => {\r\n    dispatch({ type: SET_ISTRAININGEDITING_OFF });\r\n  };\r\n\r\n  const resetSingleTraining = () => {\r\n    dispatch({ type: RESET_SINGLE_TRAINING });\r\n  };\r\n\r\n  const setEditTrainingID = async (id) => {\r\n    try {\r\n      dispatch({ type: SET_EDITTRAININGID, payload: id });\r\n    } catch (error) {\r\n      dispatch(error);\r\n    }\r\n  };\r\n\r\n  const getSingleTraining = async (id) => {\r\n    dispatch({ type: GET_SINGLE_TRAINING_BEGIN });\r\n    try {\r\n      const { data } = await axios.get(`${trainings_url}?id=${id}`);\r\n      const singletraining = data;\r\n      dispatch({ type: GET_SINGLE_TRAINING_SUCCESS, payload: singletraining });\r\n    } catch (error) {\r\n      dispatch({ type: GET_SINGLE_TRAINING_ERROR });\r\n    }\r\n  };\r\n\r\n  const getSingleBatchTraining = async (empid) => {\r\n    dispatch({ type: GET_SINGLEBATCH_TRAINING_BEGIN });\r\n    try {\r\n      const res = await fetch(`${trainings_url}?fv=${empid}`);\r\n      //console.log(`${family_url}?fv=${linkid}`);\r\n      const singlebatchtraining = await res.json();\r\n\r\n      dispatch({\r\n        type: GET_SINGLEBATCH_TRAINING_SUCCESS,\r\n        payload: singlebatchtraining,\r\n      });\r\n    } catch (error) {\r\n      dispatch({ type: GET_SINGLEBATCH_TRAINING_ERROR });\r\n    }\r\n  };\r\n\r\n  const addTraining = async (data) => {\r\n    const { id, name, from_date, to_date, reason, no_of_days, status } = data;\r\n    //\r\n    dispatch({ type: ADD_TRAINING_BEGIN });\r\n    try {\r\n      await fetch(trainings_url, {\r\n        method: \"POST\",\r\n        body: JSON.stringify({ ...data }),\r\n      });\r\n      dispatch({ type: ADD_TRAINING_SUCCESS });\r\n    } catch (err) {\r\n      dispatch({ type: ADD_TRAINING_ERROR });\r\n    }\r\n  };\r\n\r\n  const updateTraining = async (data) => {\r\n    const { id, ...fields } = data;\r\n\r\n    dispatch({ type: UPDATE_TRAINING_BEGIN });\r\n    try {\r\n      await fetch(trainings_url, {\r\n        method: \"PUT\",\r\n        body: JSON.stringify({ id, ...fields }),\r\n      });\r\n      dispatch({ type: UPDATE_TRAINING_SUCCESS });\r\n    } catch (error) {\r\n      dispatch({ type: UPDATE_TRAINING_ERROR });\r\n    }\r\n  };\r\n\r\n  const deleteTraining = async (id) => {\r\n    dispatch({ type: DELETE_TRAINING_BEGIN });\r\n    try {\r\n      await fetch(trainings_url, {\r\n        method: \"DELETE\",\r\n        body: JSON.stringify({ id: id }),\r\n      });\r\n      dispatch({ type: DELETE_TRAINING_SUCCESS });\r\n      //loadEmployees();\r\n    } catch (err) {\r\n      dispatch({ type: DELETE_TRAINING_ERROR });\r\n    }\r\n  };\r\n  return (\r\n    <TrainingsContext.Provider\r\n      value={{\r\n        ...state,\r\n        loadTrainings,\r\n        addTraining,\r\n        updateTraining,\r\n        deleteTraining,\r\n        getSingleTraining,\r\n        getSingleBatchTraining,\r\n        setEditTrainingID,\r\n        setIsTrainingEditingOn,\r\n        setIsTrainingEditingOff,\r\n        resetSingleTraining,\r\n      }}\r\n    >\r\n      {children}\r\n    </TrainingsContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useTrainingsContext = () => {\r\n  return useContext(TrainingsContext);\r\n};\r\n"]},"metadata":{},"sourceType":"module"}