{"ast":null,"code":"import _defineProperty from\"D:/react-myprojects/hrms-airtable-july2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"D:/react-myprojects/hrms-airtable-july2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"D:/react-myprojects/hrms-airtable-july2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"D:/react-myprojects/hrms-airtable-july2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{makeStyles}from\"@material-ui/core/styles\";import clsx from\"clsx\";import{TextField,Grid,Paper,Container,Box}from\"@material-ui/core\";import CardLayout from\"../helpers/CardLayout\";import CardLayout2 from\"../helpers/CardLayout2\";import CardLayout3 from\"../helpers/CardLayout3\";import Copyright from\"./Copyright\";import{CustomDialog}from\"../helpers/CustomDialog\";import{useRecoilState}from\"recoil\";import{loginLevelState}from\"./data/atomdata\";import{useLeavesContext}from\"../context/leaves_context\";import{useExpensesContext}from\"../context/expenses_context\";import{usePayslipsContext}from\"../context/payslips_context\";import{useDailyAllowancesContext}from\"../context/dailyallowances_context\";import LeaveTableView from\"./LeaveTableView\";import LeaveTableAdmin from\"./LeaveTableAdmin\";import ExpenseTableView from\"./ExpenseTableView\";import ExpenseTableAdmin from\"./ExpenseTableAdmin\";import PayslipTableViewAdmin from\"./PayslipTableViewAdmin\";import PayslipTableAdmin from\"./PayslipTableAdmin\";import DailyAllowancesTableView from\"./DailyAllowancesTableView\";import DailyAllowancesTableAdmin from\"./DailyAllowancesTableAdmin\";import OnLeavesView from\"./OnLeavesView\";import WPExpiryView from\"./WPExpiryView\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var drawerWidth=240;var FILTERSTRING=\"Pending\";var EmployeeView=function EmployeeView(){var classes=useStyles();var fixedHeightPaper=clsx(classes.paper,classes.fixedHeight);var _useRecoilState=useRecoilState(loginLevelState),_useRecoilState2=_slicedToArray(_useRecoilState,2),loginLevel=_useRecoilState2[0],setLoginLevel=_useRecoilState2[1];var _useState=useState([]),_useState2=_slicedToArray(_useState,2),leavesdata=_useState2[0],setLeavesdata=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isLeaveDialogOpen=_useState4[0],setIsLeaveDialogOpen=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),expensesdata=_useState6[0],setExpensesdata=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isExpenseDialogOpen=_useState8[0],setIsExpenseDialogOpen=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),payslipsdata=_useState10[0],setPayslipsdata=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),isPayslipDialogOpen=_useState12[0],setIsPayslipDialogOpen=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),dailyallowancesdata=_useState14[0],setDailyAllowancesdata=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),isDailyAllowancesDialogOpen=_useState16[0],setIsDailyAllowancesDialogOpen=_useState16[1];var _useLeavesContext=useLeavesContext(),leaves=_useLeavesContext.leaves,loadPendingLeaves=_useLeavesContext.loadPendingLeaves;var _useExpensesContext=useExpensesContext(),expenses=_useExpensesContext.expenses,loadPendingExpenses=_useExpensesContext.loadPendingExpenses;var _usePayslipsContext=usePayslipsContext(),batchpayslips=_usePayslipsContext.batchpayslips,loadPendingPayslips=_usePayslipsContext.loadPendingPayslips;var _useDailyAllowancesCo=useDailyAllowancesContext(),dailyallowances=_useDailyAllowancesCo.dailyallowances,loadPendingDailyAllowances=_useDailyAllowancesCo.loadPendingDailyAllowances;var handleLeaveDialogOpen=function handleLeaveDialogOpen(){setLeavesdata([]);setLeavesdata(_toConsumableArray(leaves));setIsLeaveDialogOpen(true);};var handleLeaveDialogClose=function handleLeaveDialogClose(){setIsLeaveDialogOpen(false);loadPendingLeaves(FILTERSTRING);};var handleExpenseDialogOpen=function handleExpenseDialogOpen(){setExpensesdata([]);setExpensesdata(_toConsumableArray(expenses));setIsExpenseDialogOpen(true);};var handleExpenseDialogClose=function handleExpenseDialogClose(){setIsExpenseDialogOpen(false);loadPendingExpenses(FILTERSTRING);};var handlePayslipDialogOpen=function handlePayslipDialogOpen(){setPayslipsdata([]);//setPayslipsdata([...batchpayslips]);\nsetIsPayslipDialogOpen(true);};var handlePayslipDialogClose=function handlePayslipDialogClose(){setIsPayslipDialogOpen(false);loadPendingPayslips(FILTERSTRING);};var handleDailyAllowancesDialogOpen=function handleDailyAllowancesDialogOpen(){setDailyAllowancesdata([]);setDailyAllowancesdata(_toConsumableArray(dailyallowances));setIsDailyAllowancesDialogOpen(true);};var handleDailyAllowancesDialogClose=function handleDailyAllowancesDialogClose(){setIsDailyAllowancesDialogOpen(false);loadPendingDailyAllowances(FILTERSTRING);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:classes.appBarSpacer}),/*#__PURE__*/_jsxs(\"div\",{style:{paddingLeft:50},children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Welcome \",loginLevel.loginUser,\"!\"]}),/*#__PURE__*/_jsx(\"h3\",{children:\"Dashboard\"})]}),/*#__PURE__*/_jsxs(Container,{maxWidth:\"lg\",className:classes.container,children:[/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:6,md:8,lg:6,children:/*#__PURE__*/_jsx(CardLayout3,{title:\"Expenses pending for approval\",handleClick:handleExpenseDialogOpen,children:/*#__PURE__*/_jsx(ExpenseTableView,{})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:6,md:8,lg:6,children:/*#__PURE__*/_jsx(CardLayout3,{title:\"Site Allowances pending for approval\",handleClick:handleDailyAllowancesDialogOpen,children:/*#__PURE__*/_jsx(DailyAllowancesTableView,{})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:6,md:8,lg:6,children:/*#__PURE__*/_jsx(CardLayout3,{title:\"Leaves pending for approval\",handleClick:handleLeaveDialogOpen,children:/*#__PURE__*/_jsx(LeaveTableView,{})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:6,md:8,lg:6,children:/*#__PURE__*/_jsx(CardLayout3,{title:\"Payroll pending for approval\",handleClick:handlePayslipDialogOpen,children:/*#__PURE__*/_jsx(PayslipTableViewAdmin,{})})})]}),/*#__PURE__*/_jsx(Box,{pt:4,children:/*#__PURE__*/_jsx(Copyright,{})}),/*#__PURE__*/_jsx(CustomDialog,{isOpen:isLeaveDialogOpen,handleClose:handleLeaveDialogClose,title:\"\",showButton:true,isFullscreen:false,isFullwidth:false,children:/*#__PURE__*/_jsx(LeaveTableAdmin,{setLeavesdata:setLeavesdata,leavesdata:leavesdata,handleDialogClose:handleLeaveDialogClose})}),/*#__PURE__*/_jsx(CustomDialog,{isOpen:isExpenseDialogOpen,handleClose:handleExpenseDialogClose,title:\"\",showButton:true,isFullscreen:false,isFullwidth:false,children:/*#__PURE__*/_jsx(ExpenseTableAdmin,{setExpensesdata:setExpensesdata,expensesdata:expensesdata,handleDialogClose:handleExpenseDialogClose})}),/*#__PURE__*/_jsx(CustomDialog,{isOpen:isPayslipDialogOpen,handleClose:handlePayslipDialogClose,title:\"\",showButton:true,isFullscreen:true,isFullwidth:false,children:/*#__PURE__*/_jsx(PayslipTableAdmin,{setPayslipsdata:setPayslipsdata,payslipsdata:payslipsdata,handleDialogClose:handlePayslipDialogClose})}),/*#__PURE__*/_jsx(CustomDialog,{isOpen:isDailyAllowancesDialogOpen,handleClose:handleDailyAllowancesDialogClose,title:\"\",showButton:true,isFullscreen:true,isFullwidth:false,children:/*#__PURE__*/_jsx(DailyAllowancesTableAdmin,{setDailyAllowancesdata:setDailyAllowancesdata,dailyallowancesdata:dailyallowancesdata,handleDialogClose:handleDailyAllowancesDialogClose})})]})]});};var useStyles=makeStyles(function(theme){return{root:{display:\"flex\"},toolbar:{paddingRight:24// keep right padding when drawer closed\n},toolbarIcon:_objectSpread({display:\"flex\",alignItems:\"center\",justifyContent:\"flex-end\",padding:\"0 8px\"},theme.mixins.toolbar),appBar:{zIndex:theme.zIndex.drawer+1,transition:theme.transitions.create([\"width\",\"margin\"],{easing:theme.transitions.easing.sharp,duration:theme.transitions.duration.leavingScreen})},appBarShift:{marginLeft:drawerWidth,width:\"calc(100% - \".concat(drawerWidth,\"px)\"),transition:theme.transitions.create([\"width\",\"margin\"],{easing:theme.transitions.easing.sharp,duration:theme.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:\"none\"},title:{flexGrow:1},drawerPaper:{position:\"relative\",whiteSpace:\"nowrap\",width:drawerWidth,transition:theme.transitions.create(\"width\",{easing:theme.transitions.easing.sharp,duration:theme.transitions.duration.enteringScreen})},drawerPaperClose:_defineProperty({overflowX:\"hidden\",transition:theme.transitions.create(\"width\",{easing:theme.transitions.easing.sharp,duration:theme.transitions.duration.leavingScreen}),width:theme.spacing(7)},theme.breakpoints.up(\"sm\"),{width:theme.spacing(9)}),appBarSpacer:theme.mixins.toolbar,content:{flexGrow:1,height:\"100vh\",overflow:\"auto\"},container:{paddingTop:theme.spacing(4),paddingBottom:theme.spacing(4)},paper:{padding:theme.spacing(2),display:\"flex\",overflow:\"auto\",flexDirection:\"column\"},fixedHeight:{height:240}};});export default EmployeeView;","map":{"version":3,"sources":["D:/react-myprojects/hrms-airtable-july2/src/components/HomeManager.js"],"names":["React","useState","useEffect","makeStyles","clsx","TextField","Grid","Paper","Container","Box","CardLayout","CardLayout2","CardLayout3","Copyright","CustomDialog","useRecoilState","loginLevelState","useLeavesContext","useExpensesContext","usePayslipsContext","useDailyAllowancesContext","LeaveTableView","LeaveTableAdmin","ExpenseTableView","ExpenseTableAdmin","PayslipTableViewAdmin","PayslipTableAdmin","DailyAllowancesTableView","DailyAllowancesTableAdmin","OnLeavesView","WPExpiryView","drawerWidth","FILTERSTRING","EmployeeView","classes","useStyles","fixedHeightPaper","paper","fixedHeight","loginLevel","setLoginLevel","leavesdata","setLeavesdata","isLeaveDialogOpen","setIsLeaveDialogOpen","expensesdata","setExpensesdata","isExpenseDialogOpen","setIsExpenseDialogOpen","payslipsdata","setPayslipsdata","isPayslipDialogOpen","setIsPayslipDialogOpen","dailyallowancesdata","setDailyAllowancesdata","isDailyAllowancesDialogOpen","setIsDailyAllowancesDialogOpen","leaves","loadPendingLeaves","expenses","loadPendingExpenses","batchpayslips","loadPendingPayslips","dailyallowances","loadPendingDailyAllowances","handleLeaveDialogOpen","handleLeaveDialogClose","handleExpenseDialogOpen","handleExpenseDialogClose","handlePayslipDialogOpen","handlePayslipDialogClose","handleDailyAllowancesDialogOpen","handleDailyAllowancesDialogClose","appBarSpacer","paddingLeft","loginUser","container","theme","root","display","toolbar","paddingRight","toolbarIcon","alignItems","justifyContent","padding","mixins","appBar","zIndex","drawer","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","marginLeft","width","enteringScreen","menuButton","marginRight","menuButtonHidden","title","flexGrow","drawerPaper","position","whiteSpace","drawerPaperClose","overflowX","spacing","breakpoints","up","content","height","overflow","paddingTop","paddingBottom","flexDirection"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport clsx from \"clsx\";\r\nimport { TextField, Grid, Paper, Container, Box } from \"@material-ui/core\";\r\nimport CardLayout from \"../helpers/CardLayout\";\r\nimport CardLayout2 from \"../helpers/CardLayout2\";\r\nimport CardLayout3 from \"../helpers/CardLayout3\";\r\nimport Copyright from \"./Copyright\";\r\nimport { CustomDialog } from \"../helpers/CustomDialog\";\r\nimport { useRecoilState } from \"recoil\";\r\nimport { loginLevelState } from \"./data/atomdata\";\r\nimport { useLeavesContext } from \"../context/leaves_context\";\r\nimport { useExpensesContext } from \"../context/expenses_context\";\r\nimport { usePayslipsContext } from \"../context/payslips_context\";\r\nimport { useDailyAllowancesContext } from \"../context/dailyallowances_context\";\r\nimport LeaveTableView from \"./LeaveTableView\";\r\nimport LeaveTableAdmin from \"./LeaveTableAdmin\";\r\nimport ExpenseTableView from \"./ExpenseTableView\";\r\nimport ExpenseTableAdmin from \"./ExpenseTableAdmin\";\r\nimport PayslipTableViewAdmin from \"./PayslipTableViewAdmin\";\r\nimport PayslipTableAdmin from \"./PayslipTableAdmin\";\r\nimport DailyAllowancesTableView from \"./DailyAllowancesTableView\";\r\nimport DailyAllowancesTableAdmin from \"./DailyAllowancesTableAdmin\";\r\nimport OnLeavesView from \"./OnLeavesView\";\r\nimport WPExpiryView from \"./WPExpiryView\";\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst FILTERSTRING = \"Pending\";\r\n\r\nconst EmployeeView = () => {\r\n  const classes = useStyles();\r\n  const fixedHeightPaper = clsx(classes.paper, classes.fixedHeight);\r\n  const [loginLevel, setLoginLevel] = useRecoilState(loginLevelState);\r\n  const [leavesdata, setLeavesdata] = useState([]);\r\n  const [isLeaveDialogOpen, setIsLeaveDialogOpen] = useState(false);\r\n  const [expensesdata, setExpensesdata] = useState([]);\r\n  const [isExpenseDialogOpen, setIsExpenseDialogOpen] = useState(false);\r\n  const [payslipsdata, setPayslipsdata] = useState([]);\r\n  const [isPayslipDialogOpen, setIsPayslipDialogOpen] = useState(false);\r\n  const [dailyallowancesdata, setDailyAllowancesdata] = useState([]);\r\n  const [isDailyAllowancesDialogOpen, setIsDailyAllowancesDialogOpen] =\r\n    useState(false);\r\n\r\n  const { leaves, loadPendingLeaves } = useLeavesContext();\r\n  const { expenses, loadPendingExpenses } = useExpensesContext();\r\n  const { batchpayslips, loadPendingPayslips } = usePayslipsContext();\r\n  const { dailyallowances, loadPendingDailyAllowances } =\r\n    useDailyAllowancesContext();\r\n  \r\n  const handleLeaveDialogOpen = () => {\r\n    setLeavesdata([]);\r\n    setLeavesdata([...leaves]);\r\n    setIsLeaveDialogOpen(true);\r\n  };\r\n\r\n  const handleLeaveDialogClose = () => {\r\n    setIsLeaveDialogOpen(false);\r\n    loadPendingLeaves(FILTERSTRING);\r\n  };\r\n\r\n  const handleExpenseDialogOpen = () => {\r\n    setExpensesdata([]);\r\n    setExpensesdata([...expenses]);\r\n    setIsExpenseDialogOpen(true);\r\n  };\r\n\r\n  const handleExpenseDialogClose = () => {\r\n    setIsExpenseDialogOpen(false);\r\n    loadPendingExpenses(FILTERSTRING);\r\n  };\r\n\r\n  const handlePayslipDialogOpen = () => {\r\n    setPayslipsdata([]);\r\n    //setPayslipsdata([...batchpayslips]);\r\n    setIsPayslipDialogOpen(true);\r\n  };\r\n\r\n  const handlePayslipDialogClose = () => {\r\n    setIsPayslipDialogOpen(false);\r\n    loadPendingPayslips(FILTERSTRING);\r\n  };\r\n\r\n  const handleDailyAllowancesDialogOpen = () => {\r\n    setDailyAllowancesdata([]);\r\n    setDailyAllowancesdata([...dailyallowances]);\r\n    setIsDailyAllowancesDialogOpen(true);\r\n  };\r\n\r\n  const handleDailyAllowancesDialogClose = () => {\r\n    setIsDailyAllowancesDialogOpen(false);\r\n    loadPendingDailyAllowances(FILTERSTRING);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className={classes.appBarSpacer} />\r\n      <div style={{ paddingLeft: 50 }}>\r\n        <h2>Welcome {loginLevel.loginUser}!</h2>\r\n        <h3>Dashboard</h3>\r\n      </div>\r\n      <Container maxWidth=\"lg\" className={classes.container}>\r\n        <Grid container spacing={3}>\r\n          {/* Chart */}\r\n          {/* <Grid item xs={12} md={8} lg={12}>\r\n            <Paper className={fixedHeightPaper}>\r\n              <div>Chart</div>\r\n            </Paper> */}\r\n          {/* <CardLayout3 title=\"\">\r\n             <h2>Chart</h2>\r\n            </CardLayout3>\r\n          </Grid> */}\r\n          {/* Recent Deposits */}\r\n          {/* <Grid item xs={6} md={8} lg={6}>\r\n            <CardLayout3 title=\"Staffs Onleave within 30 Days\">\r\n              <OnLeavesView />\r\n            </CardLayout3>\r\n          </Grid> */}\r\n          {/* <Grid item xs={6} md={8} lg={6}>\r\n            <CardLayout3 title=\"Work Permit Expiry within 90 Days\">\r\n              <WPExpiryView />\r\n            </CardLayout3>\r\n          </Grid> */}\r\n          <Grid item xs={6} md={8} lg={6}>\r\n            <CardLayout3\r\n              title=\"Expenses pending for approval\"\r\n              handleClick={handleExpenseDialogOpen}\r\n            >\r\n              <ExpenseTableView />\r\n            </CardLayout3>\r\n          </Grid>\r\n          <Grid item xs={6} md={8} lg={6}>\r\n            <CardLayout3\r\n              title=\"Site Allowances pending for approval\"\r\n              handleClick={handleDailyAllowancesDialogOpen}\r\n            >\r\n              <DailyAllowancesTableView />\r\n            </CardLayout3>\r\n          </Grid>\r\n          <Grid item xs={6} md={8} lg={6}>\r\n            <CardLayout3\r\n              title=\"Leaves pending for approval\"\r\n              handleClick={handleLeaveDialogOpen}\r\n            >\r\n              <LeaveTableView />\r\n            </CardLayout3>\r\n          </Grid>\r\n          {/* Recent Orders */}\r\n\r\n          <Grid item xs={6} md={8} lg={6}>\r\n            <CardLayout3\r\n              title=\"Payroll pending for approval\"\r\n              handleClick={handlePayslipDialogOpen}\r\n            >\r\n              <PayslipTableViewAdmin />\r\n            </CardLayout3>\r\n          </Grid>\r\n        </Grid>\r\n        <Box pt={4}>\r\n          <Copyright />\r\n        </Box>\r\n        <CustomDialog\r\n          isOpen={isLeaveDialogOpen}\r\n          handleClose={handleLeaveDialogClose}\r\n          title=\"\"\r\n          showButton={true}\r\n          isFullscreen={false}\r\n          isFullwidth={false}\r\n        >\r\n          <LeaveTableAdmin\r\n            setLeavesdata={setLeavesdata}\r\n            leavesdata={leavesdata}\r\n            handleDialogClose={handleLeaveDialogClose}\r\n          />\r\n        </CustomDialog>\r\n        <CustomDialog\r\n          isOpen={isExpenseDialogOpen}\r\n          handleClose={handleExpenseDialogClose}\r\n          title=\"\"\r\n          showButton={true}\r\n          isFullscreen={false}\r\n          isFullwidth={false}\r\n        >\r\n          <ExpenseTableAdmin\r\n            setExpensesdata={setExpensesdata}\r\n            expensesdata={expensesdata}\r\n            handleDialogClose={handleExpenseDialogClose}\r\n          />\r\n        </CustomDialog>\r\n        <CustomDialog\r\n          isOpen={isPayslipDialogOpen}\r\n          handleClose={handlePayslipDialogClose}\r\n          title=\"\"\r\n          showButton={true}\r\n          isFullscreen={true}\r\n          isFullwidth={false}\r\n        >\r\n          <PayslipTableAdmin\r\n            setPayslipsdata={setPayslipsdata}\r\n            payslipsdata={payslipsdata}\r\n            handleDialogClose={handlePayslipDialogClose}\r\n          />\r\n        </CustomDialog>\r\n        <CustomDialog\r\n          isOpen={isDailyAllowancesDialogOpen}\r\n          handleClose={handleDailyAllowancesDialogClose}\r\n          title=\"\"\r\n          showButton={true}\r\n          isFullscreen={true}\r\n          isFullwidth={false}\r\n        >\r\n          <DailyAllowancesTableAdmin\r\n            setDailyAllowancesdata={setDailyAllowancesdata}\r\n            dailyallowancesdata={dailyallowancesdata}\r\n            handleDialogClose={handleDailyAllowancesDialogClose}\r\n          />\r\n        </CustomDialog>\r\n      </Container>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n  },\r\n  toolbar: {\r\n    paddingRight: 24, // keep right padding when drawer closed\r\n  },\r\n  toolbarIcon: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"flex-end\",\r\n    padding: \"0 8px\",\r\n    ...theme.mixins.toolbar,\r\n  },\r\n  appBar: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    transition: theme.transitions.create([\"width\", \"margin\"], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n  },\r\n  appBarShift: {\r\n    marginLeft: drawerWidth,\r\n    width: `calc(100% - ${drawerWidth}px)`,\r\n    transition: theme.transitions.create([\"width\", \"margin\"], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  menuButton: {\r\n    marginRight: 36,\r\n  },\r\n  menuButtonHidden: {\r\n    display: \"none\",\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n  drawerPaper: {\r\n    position: \"relative\",\r\n    whiteSpace: \"nowrap\",\r\n    width: drawerWidth,\r\n    transition: theme.transitions.create(\"width\", {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  drawerPaperClose: {\r\n    overflowX: \"hidden\",\r\n    transition: theme.transitions.create(\"width\", {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    width: theme.spacing(7),\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      width: theme.spacing(9),\r\n    },\r\n  },\r\n  appBarSpacer: theme.mixins.toolbar,\r\n  content: {\r\n    flexGrow: 1,\r\n    height: \"100vh\",\r\n    overflow: \"auto\",\r\n  },\r\n  container: {\r\n    paddingTop: theme.spacing(4),\r\n    paddingBottom: theme.spacing(4),\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    display: \"flex\",\r\n    overflow: \"auto\",\r\n    flexDirection: \"column\",\r\n  },\r\n  fixedHeight: {\r\n    height: 240,\r\n  },\r\n}));\r\n\r\nexport default EmployeeView;\r\n"]},"metadata":{},"sourceType":"module"}