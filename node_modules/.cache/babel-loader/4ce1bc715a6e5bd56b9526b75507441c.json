{"ast":null,"code":"import _slicedToArray from\"D:/react-myprojects/hrms-airtable-july2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{makeStyles}from\"@material-ui/core/styles\";import clsx from\"clsx\";import axios from\"axios\";import MaterialTable from\"material-table\";import{Grid,List,ListItem,ListItemText}from\"@material-ui/core\";import{selector,useRecoilState,useRecoilValueLoadable}from\"recoil\";import{loginLevelState}from\"./data/atomdata\";import{useEmployeesContext}from\"../context/employees_context\";import{useLeavesContext}from\"../context/leaves_context\";import{leaves_url}from\"../utils/constants\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var drawerWidth=240;// const fetchExpensesDetails = selector({\n//   key: \"fetchExpensesDetailsSelector\",\n//   get: async ({ get }) => {\n//     try {\n//       const { data } = await axios.get(expenses_url);\n//       const wpexpirydata = data;\n//       return data;\n//     } catch (error) {\n//       throw error;\n//     }\n//   },\n// });\nvar LeaveTableViewStaff=function LeaveTableViewStaff(){var classes=useStyles();var fixedHeightPaper=clsx(classes.paper,classes.fixedHeight);var _useRecoilState=useRecoilState(loginLevelState),_useRecoilState2=_slicedToArray(_useRecoilState,2),loginLevel=_useRecoilState2[0],setLoginLevel=_useRecoilState2[1];var _useState=useState([]),_useState2=_slicedToArray(_useState,2),userdata=_useState2[0],setUserdata=_useState2[1];//const [userdata, setUserdata] = useRecoilState(userdatastate);\n//const ExpensesDetails = useRecoilValueLoadable(fetchExpensesDetails);\n//const { state, contents } = ExpensesDetails;\nvar _useEmployeesContext=useEmployeesContext(),editEmployeeID=_useEmployeesContext.editEmployeeID;var _useLeavesContext=useLeavesContext(),leaves=_useLeavesContext.leaves,leaves_loading=_useLeavesContext.leaves_loading,leaves_error=_useLeavesContext.leaves_error,loadEmpLeaves=_useLeavesContext.loadEmpLeaves;useEffect(function(){loadEmpLeaves(editEmployeeID);},[]);if(leaves_error){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h2\",{children:\"Internet connections problem!\"})});}if(leaves_loading){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h2\",{children:\"Loading....Expenses\"})});}return/*#__PURE__*/_jsx(List,{className:classes.root,children:/*#__PURE__*/_jsx(Grid,{container:true,direction:\"row\",children:leaves// .filter((i) => i.empid === loginLevel.loginUserId)\n.map(function(row){return/*#__PURE__*/_jsxs(ListItem,{children:[/*#__PURE__*/_jsx(Grid,{item:true,sm:3,align:\"center\",children:/*#__PURE__*/_jsx(ListItemText,{children:row.from_date})}),/*#__PURE__*/_jsx(Grid,{item:true,sm:3,align:\"center\",children:/*#__PURE__*/_jsx(ListItemText,{children:row.to_date})}),/*#__PURE__*/_jsx(Grid,{item:true,sm:3,align:\"center\",children:/*#__PURE__*/_jsx(ListItemText,{children:row.reason})}),/*#__PURE__*/_jsx(Grid,{item:true,sm:3,align:\"center\",children:/*#__PURE__*/_jsx(ListItemText,{children:row.status})})]},row.id);})})});};var useStyles=makeStyles(function(theme){return{root:{padding:0}};});export default LeaveTableViewStaff;","map":{"version":3,"sources":["D:/react-myprojects/hrms-airtable-july2/src/components/LeaveTableViewStaff.js"],"names":["React","useState","useEffect","makeStyles","clsx","axios","MaterialTable","Grid","List","ListItem","ListItemText","selector","useRecoilState","useRecoilValueLoadable","loginLevelState","useEmployeesContext","useLeavesContext","leaves_url","drawerWidth","LeaveTableViewStaff","classes","useStyles","fixedHeightPaper","paper","fixedHeight","loginLevel","setLoginLevel","userdata","setUserdata","editEmployeeID","leaves","leaves_loading","leaves_error","loadEmpLeaves","root","map","row","from_date","to_date","reason","status","id","theme","padding"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport clsx from \"clsx\";\r\nimport axios from \"axios\";\r\nimport MaterialTable from \"material-table\";\r\nimport { Grid, List, ListItem, ListItemText } from \"@material-ui/core\";\r\nimport { selector, useRecoilState, useRecoilValueLoadable } from \"recoil\";\r\nimport { loginLevelState } from \"./data/atomdata\";\r\nimport { useEmployeesContext } from \"../context/employees_context\";\r\nimport { useLeavesContext } from \"../context/leaves_context\";\r\nimport { leaves_url } from \"../utils/constants\";\r\n\r\nconst drawerWidth = 240;\r\n\r\n\r\n\r\n// const fetchExpensesDetails = selector({\r\n//   key: \"fetchExpensesDetailsSelector\",\r\n//   get: async ({ get }) => {\r\n//     try {\r\n//       const { data } = await axios.get(expenses_url);\r\n//       const wpexpirydata = data;\r\n\r\n//       return data;\r\n//     } catch (error) {\r\n//       throw error;\r\n//     }\r\n//   },\r\n// });\r\n\r\nconst LeaveTableViewStaff = () => {\r\n  const classes = useStyles();\r\n  const fixedHeightPaper = clsx(classes.paper, classes.fixedHeight);\r\n  const [loginLevel, setLoginLevel] = useRecoilState(loginLevelState);\r\n  const [userdata, setUserdata] = useState([]);\r\n  //const [userdata, setUserdata] = useRecoilState(userdatastate);\r\n  //const ExpensesDetails = useRecoilValueLoadable(fetchExpensesDetails);\r\n  //const { state, contents } = ExpensesDetails;\r\n  const { editEmployeeID } = useEmployeesContext();\r\n  const {\r\n    leaves,\r\n    leaves_loading,\r\n    leaves_error,\r\n        loadEmpLeaves,\r\n  } = useLeavesContext();\r\n\r\n  useEffect(() => {\r\n    loadEmpLeaves(editEmployeeID);\r\n  }, []);\r\n\r\n  if (leaves_error) {\r\n    return (\r\n      <div>\r\n        <h2>Internet connections problem!</h2>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (leaves_loading) {\r\n    return (\r\n      <div>\r\n        <h2>Loading....Expenses</h2>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <List className={classes.root}>\r\n      <Grid container direction=\"row\">\r\n        {leaves\r\n          // .filter((i) => i.empid === loginLevel.loginUserId)\r\n          .map((row) => {\r\n            return (\r\n              <ListItem key={row.id}>\r\n                <Grid item sm={3} align=\"center\">\r\n                  <ListItemText>{row.from_date}</ListItemText>\r\n                </Grid>\r\n                <Grid item sm={3} align=\"center\">\r\n                  <ListItemText>{row.to_date}</ListItemText>\r\n                </Grid>\r\n                <Grid item sm={3} align=\"center\">\r\n                  <ListItemText>{row.reason}</ListItemText>\r\n                </Grid>\r\n                <Grid item sm={3} align=\"center\">\r\n                  <ListItemText>{row.status}</ListItemText>\r\n                </Grid>\r\n              </ListItem>\r\n            );\r\n          })}\r\n      </Grid>\r\n    </List>\r\n  );\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    padding: 0,\r\n  },\r\n}));\r\n\r\nexport default LeaveTableViewStaff;\r\n"]},"metadata":{},"sourceType":"module"}